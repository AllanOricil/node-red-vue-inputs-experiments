import{r as nn,a as xt,b as an,g as _t}from"./vendor.1KGgaFtn.js";var wt={exports:{}},Ct={},he={},ge={},Rt={},Ot={},It={},Dt;function Ee(){return Dt||(Dt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class n{}e._CodeOrName=n,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class a extends n{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=a;class s extends n{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((i,b)=>`${i}${b}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((i,b)=>(b instanceof a&&(i[b.str]=(i[b.str]||0)+1),i),{})}}e._Code=s,e.nil=new s("");function c(o,...t){const i=[o[0]];let b=0;for(;b<t.length;)d(i,t[b]),i.push(o[++b]);return new s(i)}e._=c;const l=new s("+");function p(o,...t){const i=[w(o[0])];let b=0;for(;b<t.length;)i.push(l),d(i,t[b]),i.push(l,w(o[++b]));return f(i),new s(i)}e.str=p;function d(o,t){t instanceof s?o.push(...t._items):t instanceof a?o.push(t):o.push(S(t))}e.addCodeArg=d;function f(o){let t=1;for(;t<o.length-1;){if(o[t]===l){const i=v(o[t-1],o[t+1]);if(i!==void 0){o.splice(t-1,3,i);continue}o[t++]="+"}t++}}function v(o,t){if(t==='""')return o;if(o==='""')return t;if(typeof o=="string")return t instanceof a||o[o.length-1]!=='"'?void 0:typeof t!="string"?`${o.slice(0,-1)}${t}"`:t[0]==='"'?o.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(o instanceof a))return`"${o}${t.slice(1)}`}function h(o,t){return t.emptyStr()?o:o.emptyStr()?t:p`${o}${t}`}e.strConcat=h;function S(o){return typeof o=="number"||typeof o=="boolean"||o===null?o:w(Array.isArray(o)?o.join(","):o)}function x(o){return new s(w(o))}e.stringify=x;function w(o){return JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function N(o){return typeof o=="string"&&e.IDENTIFIER.test(o)?new s(`.${o}`):c`[${o}]`}e.getProperty=N;function T(o){if(typeof o=="string"&&e.IDENTIFIER.test(o))return new s(`${o}`);throw new Error(`CodeGen: invalid export name: ${o}, use explicit $id name mapping`)}e.getEsmExportName=T;function m(o){return new s(o.toString())}e.regexpCode=m}(It)),It}var zt={},At;function Mt(){return At||(At=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const n=Ee();class a extends Error{constructor(v){super(`CodeGen: "code" for ${v} not defined`),this.value=v.value}}var s;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(s||(e.UsedValueState=s={})),e.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class c{constructor({prefixes:v,parent:h}={}){this._names={},this._prefixes=v,this._parent=h}toName(v){return v instanceof n.Name?v:this.name(v)}name(v){return new n.Name(this._newName(v))}_newName(v){const h=this._names[v]||this._nameGroup(v);return`${v}${h.index++}`}_nameGroup(v){var h,S;if(!((S=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||S===void 0)&&S.has(v)||this._prefixes&&!this._prefixes.has(v))throw new Error(`CodeGen: prefix "${v}" is not allowed in this scope`);return this._names[v]={prefix:v,index:0}}}e.Scope=c;class l extends n.Name{constructor(v,h){super(h),this.prefix=v}setValue(v,{property:h,itemIndex:S}){this.value=v,this.scopePath=(0,n._)`.${new n.Name(h)}[${S}]`}}e.ValueScopeName=l;const p=(0,n._)`\n`;class d extends c{constructor(v){super(v),this._values={},this._scope=v.scope,this.opts={...v,_n:v.lines?p:n.nil}}get(){return this._scope}name(v){return new l(v,this._newName(v))}value(v,h){var S;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const x=this.toName(v),{prefix:w}=x,N=(S=h.key)!==null&&S!==void 0?S:h.ref;let T=this._values[w];if(T){const t=T.get(N);if(t)return t}else T=this._values[w]=new Map;T.set(N,x);const m=this._scope[w]||(this._scope[w]=[]),o=m.length;return m[o]=h.ref,x.setValue(h,{property:w,itemIndex:o}),x}getValue(v,h){const S=this._values[v];if(S)return S.get(h)}scopeRefs(v,h=this._values){return this._reduceValues(h,S=>{if(S.scopePath===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return(0,n._)`${v}${S.scopePath}`})}scopeCode(v=this._values,h,S){return this._reduceValues(v,x=>{if(x.value===void 0)throw new Error(`CodeGen: name "${x}" has no value`);return x.value.code},h,S)}_reduceValues(v,h,S={},x){let w=n.nil;for(const N in v){const T=v[N];if(!T)continue;const m=S[N]=S[N]||new Map;T.forEach(o=>{if(m.has(o))return;m.set(o,s.Started);let t=h(o);if(t){const i=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,n._)`${w}${i} ${o} = ${t};${this.opts._n}`}else if(t=x?.(o))w=(0,n._)`${w}${t}${this.opts._n}`;else throw new a(o);m.set(o,s.Completed)})}return w}}e.ValueScope=d}(zt)),zt}var Vt;function B(){return Vt||(Vt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const n=Ee(),a=Mt();var s=Ee();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}});var c=Mt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class l{optimizeNodes(){return this}optimizeNames(r,$){return this}}class p extends l{constructor(r,$,C){super(),this.varKind=r,this.name=$,this.rhs=C}render({es5:r,_n:$}){const C=r?a.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${K};`+$}optimizeNames(r,$){if(r[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,r,$)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class d extends l{constructor(r,$,C){super(),this.lhs=r,this.rhs=$,this.sideEffects=C}render({_n:r}){return`${this.lhs} = ${this.rhs};`+r}optimizeNames(r,$){if(!(this.lhs instanceof n.Name&&!r[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,r,$),this}get names(){const r=this.lhs instanceof n.Name?{}:{...this.lhs.names};return L(r,this.rhs)}}class f extends d{constructor(r,$,C,K){super(r,C,K),this.op=$}render({_n:r}){return`${this.lhs} ${this.op}= ${this.rhs};`+r}}class v extends l{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`${this.label}:`+r}}class h extends l{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`break${this.label?` ${this.label}`:""};`+r}}class S extends l{constructor(r){super(),this.error=r}render({_n:r}){return`throw ${this.error};`+r}get names(){return this.error.names}}class x extends l{constructor(r){super(),this.code=r}render({_n:r}){return`${this.code};`+r}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(r,$){return this.code=G(this.code,r,$),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class w extends l{constructor(r=[]){super(),this.nodes=r}render(r){return this.nodes.reduce(($,C)=>$+C.render(r),"")}optimizeNodes(){const{nodes:r}=this;let $=r.length;for(;$--;){const C=r[$].optimizeNodes();Array.isArray(C)?r.splice($,1,...C):C?r[$]=C:r.splice($,1)}return r.length>0?this:void 0}optimizeNames(r,$){const{nodes:C}=this;let K=C.length;for(;K--;){const z=C[K];z.optimizeNames(r,$)||(X(r,z.names),C.splice(K,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((r,$)=>F(r,$.names),{})}}class N extends w{render(r){return"{"+r._n+super.render(r)+"}"+r._n}}class T extends w{}class m extends N{}m.kind="else";class o extends N{constructor(r,$){super($),this.condition=r}render(r){let $=`if(${this.condition})`+super.render(r);return this.else&&($+="else "+this.else.render(r)),$}optimizeNodes(){super.optimizeNodes();const r=this.condition;if(r===!0)return this.nodes;let $=this.else;if($){const C=$.optimizeNodes();$=this.else=Array.isArray(C)?new m(C):C}if($)return r===!1?$ instanceof o?$:$.nodes:this.nodes.length?this:new o(ee(r),$ instanceof o?[$]:$.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,$){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(r,$),!!(super.optimizeNames(r,$)||this.else))return this.condition=G(this.condition,r,$),this}get names(){const r=super.names;return L(r,this.condition),this.else&&F(r,this.else.names),r}}o.kind="if";class t extends N{}t.kind="for";class i extends t{constructor(r){super(),this.iteration=r}render(r){return`for(${this.iteration})`+super.render(r)}optimizeNames(r,$){if(super.optimizeNames(r,$))return this.iteration=G(this.iteration,r,$),this}get names(){return F(super.names,this.iteration.names)}}class b extends t{constructor(r,$,C,K){super(),this.varKind=r,this.name=$,this.from=C,this.to=K}render(r){const $=r.es5?a.varKinds.var:this.varKind,{name:C,from:K,to:z}=this;return`for(${$} ${C}=${K}; ${C}<${z}; ${C}++)`+super.render(r)}get names(){const r=L(super.names,this.from);return L(r,this.to)}}class u extends t{constructor(r,$,C,K){super(),this.loop=r,this.varKind=$,this.name=C,this.iterable=K}render(r){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(r)}optimizeNames(r,$){if(super.optimizeNames(r,$))return this.iterable=G(this.iterable,r,$),this}get names(){return F(super.names,this.iterable.names)}}class y extends N{constructor(r,$,C){super(),this.name=r,this.args=$,this.async=C}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}y.kind="func";class g extends w{render(r){return"return "+super.render(r)}}g.kind="return";class I extends N{render(r){let $="try"+super.render(r);return this.catch&&($+=this.catch.render(r)),this.finally&&($+=this.finally.render(r)),$}optimizeNodes(){var r,$;return super.optimizeNodes(),(r=this.catch)===null||r===void 0||r.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(r,$){var C,K;return super.optimizeNames(r,$),(C=this.catch)===null||C===void 0||C.optimizeNames(r,$),(K=this.finally)===null||K===void 0||K.optimizeNames(r,$),this}get names(){const r=super.names;return this.catch&&F(r,this.catch.names),this.finally&&F(r,this.finally.names),r}}class A extends N{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}A.kind="catch";class V extends N{render(r){return"finally"+super.render(r)}}V.kind="finally";class O{constructor(r,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=r,this._scope=new a.Scope({parent:r}),this._nodes=[new T]}toString(){return this._root.render(this.opts)}name(r){return this._scope.name(r)}scopeName(r){return this._extScope.name(r)}scopeValue(r,$){const C=this._extScope.value(r,$);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(r,$){return this._extScope.getValue(r,$)}scopeRefs(r){return this._extScope.scopeRefs(r,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(r,$,C,K){const z=this._scope.toName($);return C!==void 0&&K&&(this._constants[z.str]=C),this._leafNode(new p(r,z,C)),z}const(r,$,C){return this._def(a.varKinds.const,r,$,C)}let(r,$,C){return this._def(a.varKinds.let,r,$,C)}var(r,$,C){return this._def(a.varKinds.var,r,$,C)}assign(r,$,C){return this._leafNode(new d(r,$,C))}add(r,$){return this._leafNode(new f(r,e.operators.ADD,$))}code(r){return typeof r=="function"?r():r!==n.nil&&this._leafNode(new x(r)),this}object(...r){const $=["{"];for(const[C,K]of r)$.length>1&&$.push(","),$.push(C),(C!==K||this.opts.es5)&&($.push(":"),(0,n.addCodeArg)($,K));return $.push("}"),new n._Code($)}if(r,$,C){if(this._blockNode(new o(r)),$&&C)this.code($).else().code(C).endIf();else if($)this.code($).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(r){return this._elseNode(new o(r))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(o,m)}_for(r,$){return this._blockNode(r),$&&this.code($).endFor(),this}for(r,$){return this._for(new i(r),$)}forRange(r,$,C,K,z=this.opts.es5?a.varKinds.var:a.varKinds.let){const U=this._scope.toName(r);return this._for(new b(z,U,$,C),()=>K(U))}forOf(r,$,C,K=a.varKinds.const){const z=this._scope.toName(r);if(this.opts.es5){const U=$ instanceof n.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,n._)`${U}.length`,q=>{this.var(z,(0,n._)`${U}[${q}]`),C(z)})}return this._for(new u("of",K,z,$),()=>C(z))}forIn(r,$,C,K=this.opts.es5?a.varKinds.var:a.varKinds.const){if(this.opts.ownProperties)return this.forOf(r,(0,n._)`Object.keys(${$})`,C);const z=this._scope.toName(r);return this._for(new u("in",K,z,$),()=>C(z))}endFor(){return this._endBlockNode(t)}label(r){return this._leafNode(new v(r))}break(r){return this._leafNode(new h(r))}return(r){const $=new g;if(this._blockNode($),this.code(r),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(g)}try(r,$,C){if(!$&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new I;if(this._blockNode(K),this.code(r),$){const z=this.name("e");this._currNode=K.catch=new A(z),$(z)}return C&&(this._currNode=K.finally=new V,this.code(C)),this._endBlockNode(A,V)}throw(r){return this._leafNode(new S(r))}block(r,$){return this._blockStarts.push(this._nodes.length),r&&this.code(r).endBlock($),this}endBlock(r){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-$;if(C<0||r!==void 0&&C!==r)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${r} expected`);return this._nodes.length=$,this}func(r,$=n.nil,C,K){return this._blockNode(new y(r,$,C)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(r=1){for(;r-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(r){return this._currNode.nodes.push(r),this}_blockNode(r){this._currNode.nodes.push(r),this._nodes.push(r)}_endBlockNode(r,$){const C=this._currNode;if(C instanceof r||$&&C instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${r.kind}/${$.kind}`:r.kind}"`)}_elseNode(r){const $=this._currNode;if(!($ instanceof o))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=r,this}get _root(){return this._nodes[0]}get _currNode(){const r=this._nodes;return r[r.length-1]}set _currNode(r){const $=this._nodes;$[$.length-1]=r}}e.CodeGen=O;function F(_,r){for(const $ in r)_[$]=(_[$]||0)+(r[$]||0);return _}function L(_,r){return r instanceof n._CodeOrName?F(_,r.names):_}function G(_,r,$){if(_ instanceof n.Name)return C(_);if(!K(_))return _;return new n._Code(_._items.reduce((z,U)=>(U instanceof n.Name&&(U=C(U)),U instanceof n._Code?z.push(...U._items):z.push(U),z),[]));function C(z){const U=$[z.str];return U===void 0||r[z.str]!==1?z:(delete r[z.str],U)}function K(z){return z instanceof n._Code&&z._items.some(U=>U instanceof n.Name&&r[U.str]===1&&$[U.str]!==void 0)}}function X(_,r){for(const $ in r)_[$]=(_[$]||0)-(r[$]||0)}function ee(_){return typeof _=="boolean"||typeof _=="number"||_===null?!_:(0,n._)`!${j(_)}`}e.not=ee;const ae=k(e.operators.AND);function H(..._){return _.reduce(ae)}e.and=H;const se=k(e.operators.OR);function D(..._){return _.reduce(se)}e.or=D;function k(_){return(r,$)=>r===n.nil?$:$===n.nil?r:(0,n._)`${j(r)} ${_} ${j($)}`}function j(_){return _ instanceof n.Name?_:(0,n._)`(${_})`}}(Ot)),Ot}var Q={},Kt;function Y(){if(Kt)return Q;Kt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.checkStrictMode=Q.getErrorPath=Q.Type=Q.useFunc=Q.setEvaluated=Q.evaluatedPropsToName=Q.mergeEvaluated=Q.eachItem=Q.unescapeJsonPointer=Q.escapeJsonPointer=Q.escapeFragment=Q.unescapeFragment=Q.schemaRefOrVal=Q.schemaHasRulesButRef=Q.schemaHasRules=Q.checkUnknownRules=Q.alwaysValidSchema=Q.toHash=void 0;const e=B(),n=Ee();function a(u){const y={};for(const g of u)y[g]=!0;return y}Q.toHash=a;function s(u,y){return typeof y=="boolean"?y:Object.keys(y).length===0?!0:(c(u,y),!l(y,u.self.RULES.all))}Q.alwaysValidSchema=s;function c(u,y=u.schema){const{opts:g,self:I}=u;if(!g.strictSchema||typeof y=="boolean")return;const A=I.RULES.keywords;for(const V in y)A[V]||b(u,`unknown keyword: "${V}"`)}Q.checkUnknownRules=c;function l(u,y){if(typeof u=="boolean")return!u;for(const g in u)if(y[g])return!0;return!1}Q.schemaHasRules=l;function p(u,y){if(typeof u=="boolean")return!u;for(const g in u)if(g!=="$ref"&&y.all[g])return!0;return!1}Q.schemaHasRulesButRef=p;function d({topSchemaRef:u,schemaPath:y},g,I,A){if(!A){if(typeof g=="number"||typeof g=="boolean")return g;if(typeof g=="string")return(0,e._)`${g}`}return(0,e._)`${u}${y}${(0,e.getProperty)(I)}`}Q.schemaRefOrVal=d;function f(u){return S(decodeURIComponent(u))}Q.unescapeFragment=f;function v(u){return encodeURIComponent(h(u))}Q.escapeFragment=v;function h(u){return typeof u=="number"?`${u}`:u.replace(/~/g,"~0").replace(/\//g,"~1")}Q.escapeJsonPointer=h;function S(u){return u.replace(/~1/g,"/").replace(/~0/g,"~")}Q.unescapeJsonPointer=S;function x(u,y){if(Array.isArray(u))for(const g of u)y(g);else y(u)}Q.eachItem=x;function w({mergeNames:u,mergeToName:y,mergeValues:g,resultToName:I}){return(A,V,O,F)=>{const L=O===void 0?V:O instanceof e.Name?(V instanceof e.Name?u(A,V,O):y(A,V,O),O):V instanceof e.Name?(y(A,O,V),V):g(V,O);return F===e.Name&&!(L instanceof e.Name)?I(A,L):L}}Q.mergeEvaluated={props:w({mergeNames:(u,y,g)=>u.if((0,e._)`${g} !== true && ${y} !== undefined`,()=>{u.if((0,e._)`${y} === true`,()=>u.assign(g,!0),()=>u.assign(g,(0,e._)`${g} || {}`).code((0,e._)`Object.assign(${g}, ${y})`))}),mergeToName:(u,y,g)=>u.if((0,e._)`${g} !== true`,()=>{y===!0?u.assign(g,!0):(u.assign(g,(0,e._)`${g} || {}`),T(u,g,y))}),mergeValues:(u,y)=>u===!0?!0:{...u,...y},resultToName:N}),items:w({mergeNames:(u,y,g)=>u.if((0,e._)`${g} !== true && ${y} !== undefined`,()=>u.assign(g,(0,e._)`${y} === true ? true : ${g} > ${y} ? ${g} : ${y}`)),mergeToName:(u,y,g)=>u.if((0,e._)`${g} !== true`,()=>u.assign(g,y===!0?!0:(0,e._)`${g} > ${y} ? ${g} : ${y}`)),mergeValues:(u,y)=>u===!0?!0:Math.max(u,y),resultToName:(u,y)=>u.var("items",y)})};function N(u,y){if(y===!0)return u.var("props",!0);const g=u.var("props",(0,e._)`{}`);return y!==void 0&&T(u,g,y),g}Q.evaluatedPropsToName=N;function T(u,y,g){Object.keys(g).forEach(I=>u.assign((0,e._)`${y}${(0,e.getProperty)(I)}`,!0))}Q.setEvaluated=T;const m={};function o(u,y){return u.scopeValue("func",{ref:y,code:m[y.code]||(m[y.code]=new n._Code(y.code))})}Q.useFunc=o;var t;(function(u){u[u.Num=0]="Num",u[u.Str=1]="Str"})(t||(Q.Type=t={}));function i(u,y,g){if(u instanceof e.Name){const I=y===t.Num;return g?I?(0,e._)`"[" + ${u} + "]"`:(0,e._)`"['" + ${u} + "']"`:I?(0,e._)`"/" + ${u}`:(0,e._)`"/" + ${u}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return g?(0,e.getProperty)(u).toString():"/"+h(u)}Q.getErrorPath=i;function b(u,y,g=u.opts.strictSchema){if(g){if(y=`strict mode: ${y}`,g===!0)throw new Error(y);u.self.logger.warn(y)}}return Q.checkStrictMode=b,Q}var Ce={},Ft;function pe(){if(Ft)return Ce;Ft=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=B(),n={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Ce.default=n,Ce}var Lt;function ke(){return Lt||(Lt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const n=B(),a=Y(),s=pe();e.keywordError={message:({keyword:m})=>(0,n.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:o})=>o?(0,n.str)`"${m}" keyword must be ${o} ($data)`:(0,n.str)`"${m}" keyword is invalid ($data)`};function c(m,o=e.keywordError,t,i){const{it:b}=m,{gen:u,compositeRule:y,allErrors:g}=b,I=S(m,o,t);i??(y||g)?f(u,I):v(b,(0,n._)`[${I}]`)}e.reportError=c;function l(m,o=e.keywordError,t){const{it:i}=m,{gen:b,compositeRule:u,allErrors:y}=i,g=S(m,o,t);f(b,g),u||y||v(i,s.default.vErrors)}e.reportExtraError=l;function p(m,o){m.assign(s.default.errors,o),m.if((0,n._)`${s.default.vErrors} !== null`,()=>m.if(o,()=>m.assign((0,n._)`${s.default.vErrors}.length`,o),()=>m.assign(s.default.vErrors,null)))}e.resetErrorsCount=p;function d({gen:m,keyword:o,schemaValue:t,data:i,errsCount:b,it:u}){if(b===void 0)throw new Error("ajv implementation error");const y=m.name("err");m.forRange("i",b,s.default.errors,g=>{m.const(y,(0,n._)`${s.default.vErrors}[${g}]`),m.if((0,n._)`${y}.instancePath === undefined`,()=>m.assign((0,n._)`${y}.instancePath`,(0,n.strConcat)(s.default.instancePath,u.errorPath))),m.assign((0,n._)`${y}.schemaPath`,(0,n.str)`${u.errSchemaPath}/${o}`),u.opts.verbose&&(m.assign((0,n._)`${y}.schema`,t),m.assign((0,n._)`${y}.data`,i))})}e.extendErrors=d;function f(m,o){const t=m.const("err",o);m.if((0,n._)`${s.default.vErrors} === null`,()=>m.assign(s.default.vErrors,(0,n._)`[${t}]`),(0,n._)`${s.default.vErrors}.push(${t})`),m.code((0,n._)`${s.default.errors}++`)}function v(m,o){const{gen:t,validateName:i,schemaEnv:b}=m;b.$async?t.throw((0,n._)`new ${m.ValidationError}(${o})`):(t.assign((0,n._)`${i}.errors`,o),t.return(!1))}const h={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function S(m,o,t){const{createErrors:i}=m.it;return i===!1?(0,n._)`{}`:x(m,o,t)}function x(m,o,t={}){const{gen:i,it:b}=m,u=[w(b,t),N(m,t)];return T(m,o,u),i.object(...u)}function w({errorPath:m},{instancePath:o}){const t=o?(0,n.str)`${m}${(0,a.getErrorPath)(o,a.Type.Str)}`:m;return[s.default.instancePath,(0,n.strConcat)(s.default.instancePath,t)]}function N({keyword:m,it:{errSchemaPath:o}},{schemaPath:t,parentSchema:i}){let b=i?o:(0,n.str)`${o}/${m}`;return t&&(b=(0,n.str)`${b}${(0,a.getErrorPath)(t,a.Type.Str)}`),[h.schemaPath,b]}function T(m,{params:o,message:t},i){const{keyword:b,data:u,schemaValue:y,it:g}=m,{opts:I,propertyName:A,topSchemaRef:V,schemaPath:O}=g;i.push([h.keyword,b],[h.params,typeof o=="function"?o(m):o||(0,n._)`{}`]),I.messages&&i.push([h.message,typeof t=="function"?t(m):t]),I.verbose&&i.push([h.schema,y],[h.parentSchema,(0,n._)`${V}${O}`],[s.default.data,u]),A&&i.push([h.propertyName,A])}}(Rt)),Rt}var Ut;function sn(){if(Ut)return ge;Ut=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.boolOrEmptySchema=ge.topBoolOrEmptySchema=void 0;const e=ke(),n=B(),a=pe(),s={message:"boolean schema is false"};function c(d){const{gen:f,schema:v,validateName:h}=d;v===!1?p(d,!1):typeof v=="object"&&v.$async===!0?f.return(a.default.data):(f.assign((0,n._)`${h}.errors`,null),f.return(!0))}ge.topBoolOrEmptySchema=c;function l(d,f){const{gen:v,schema:h}=d;h===!1?(v.var(f,!1),p(d)):v.var(f,!0)}ge.boolOrEmptySchema=l;function p(d,f){const{gen:v,data:h}=d,S={gen:v,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:d};(0,e.reportError)(S,s,void 0,f)}return ge}var ne={},_e={},Gt;function Jt(){if(Gt)return _e;Gt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.getRules=_e.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],n=new Set(e);function a(c){return typeof c=="string"&&n.has(c)}_e.isJSONType=a;function s(){const c={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...c,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},c.number,c.string,c.array,c.object],post:{rules:[]},all:{},keywords:{}}}return _e.getRules=s,_e}var ye={},qt;function Bt(){if(qt)return ye;qt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.shouldUseRule=ye.shouldUseGroup=ye.schemaHasRulesForType=void 0;function e({schema:s,self:c},l){const p=c.RULES.types[l];return p&&p!==!0&&n(s,p)}ye.schemaHasRulesForType=e;function n(s,c){return c.rules.some(l=>a(s,l))}ye.shouldUseGroup=n;function a(s,c){var l;return s[c.keyword]!==void 0||((l=c.definition.implements)===null||l===void 0?void 0:l.some(p=>s[p]!==void 0))}return ye.shouldUseRule=a,ye}var Qt;function Re(){if(Qt)return ne;Qt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.reportTypeError=ne.checkDataTypes=ne.checkDataType=ne.coerceAndCheckDataType=ne.getJSONTypes=ne.getSchemaTypes=ne.DataType=void 0;const e=Jt(),n=Bt(),a=ke(),s=B(),c=Y();var l;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(l||(ne.DataType=l={}));function p(t){const i=d(t.type);if(i.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!i.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&i.push("null")}return i}ne.getSchemaTypes=p;function d(t){const i=Array.isArray(t)?t:t?[t]:[];if(i.every(e.isJSONType))return i;throw new Error("type must be JSONType or JSONType[]: "+i.join(","))}ne.getJSONTypes=d;function f(t,i){const{gen:b,data:u,opts:y}=t,g=h(i,y.coerceTypes),I=i.length>0&&!(g.length===0&&i.length===1&&(0,n.schemaHasRulesForType)(t,i[0]));if(I){const A=N(i,u,y.strictNumbers,l.Wrong);b.if(A,()=>{g.length?S(t,i,g):m(t)})}return I}ne.coerceAndCheckDataType=f;const v=new Set(["string","number","integer","boolean","null"]);function h(t,i){return i?t.filter(b=>v.has(b)||i==="array"&&b==="array"):[]}function S(t,i,b){const{gen:u,data:y,opts:g}=t,I=u.let("dataType",(0,s._)`typeof ${y}`),A=u.let("coerced",(0,s._)`undefined`);g.coerceTypes==="array"&&u.if((0,s._)`${I} == 'object' && Array.isArray(${y}) && ${y}.length == 1`,()=>u.assign(y,(0,s._)`${y}[0]`).assign(I,(0,s._)`typeof ${y}`).if(N(i,y,g.strictNumbers),()=>u.assign(A,y))),u.if((0,s._)`${A} !== undefined`);for(const O of b)(v.has(O)||O==="array"&&g.coerceTypes==="array")&&V(O);u.else(),m(t),u.endIf(),u.if((0,s._)`${A} !== undefined`,()=>{u.assign(y,A),x(t,A)});function V(O){switch(O){case"string":u.elseIf((0,s._)`${I} == "number" || ${I} == "boolean"`).assign(A,(0,s._)`"" + ${y}`).elseIf((0,s._)`${y} === null`).assign(A,(0,s._)`""`);return;case"number":u.elseIf((0,s._)`${I} == "boolean" || ${y} === null
              || (${I} == "string" && ${y} && ${y} == +${y})`).assign(A,(0,s._)`+${y}`);return;case"integer":u.elseIf((0,s._)`${I} === "boolean" || ${y} === null
              || (${I} === "string" && ${y} && ${y} == +${y} && !(${y} % 1))`).assign(A,(0,s._)`+${y}`);return;case"boolean":u.elseIf((0,s._)`${y} === "false" || ${y} === 0 || ${y} === null`).assign(A,!1).elseIf((0,s._)`${y} === "true" || ${y} === 1`).assign(A,!0);return;case"null":u.elseIf((0,s._)`${y} === "" || ${y} === 0 || ${y} === false`),u.assign(A,null);return;case"array":u.elseIf((0,s._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${y} === null`).assign(A,(0,s._)`[${y}]`)}}}function x({gen:t,parentData:i,parentDataProperty:b},u){t.if((0,s._)`${i} !== undefined`,()=>t.assign((0,s._)`${i}[${b}]`,u))}function w(t,i,b,u=l.Correct){const y=u===l.Correct?s.operators.EQ:s.operators.NEQ;let g;switch(t){case"null":return(0,s._)`${i} ${y} null`;case"array":g=(0,s._)`Array.isArray(${i})`;break;case"object":g=(0,s._)`${i} && typeof ${i} == "object" && !Array.isArray(${i})`;break;case"integer":g=I((0,s._)`!(${i} % 1) && !isNaN(${i})`);break;case"number":g=I();break;default:return(0,s._)`typeof ${i} ${y} ${t}`}return u===l.Correct?g:(0,s.not)(g);function I(A=s.nil){return(0,s.and)((0,s._)`typeof ${i} == "number"`,A,b?(0,s._)`isFinite(${i})`:s.nil)}}ne.checkDataType=w;function N(t,i,b,u){if(t.length===1)return w(t[0],i,b,u);let y;const g=(0,c.toHash)(t);if(g.array&&g.object){const I=(0,s._)`typeof ${i} != "object"`;y=g.null?I:(0,s._)`!${i} || ${I}`,delete g.null,delete g.array,delete g.object}else y=s.nil;g.number&&delete g.integer;for(const I in g)y=(0,s.and)(y,w(I,i,b,u));return y}ne.checkDataTypes=N;const T={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:i})=>typeof t=="string"?(0,s._)`{type: ${t}}`:(0,s._)`{type: ${i}}`};function m(t){const i=o(t);(0,a.reportError)(i,T)}ne.reportTypeError=m;function o(t){const{gen:i,data:b,schema:u}=t,y=(0,c.schemaRefOrVal)(t,u,"type");return{gen:i,keyword:"type",data:b,schema:u.type,schemaCode:y,schemaValue:y,parentSchema:u,params:{},it:t}}return ne}var je={},Wt;function on(){if(Wt)return je;Wt=1,Object.defineProperty(je,"__esModule",{value:!0}),je.assignDefaults=void 0;const e=B(),n=Y();function a(c,l){const{properties:p,items:d}=c.schema;if(l==="object"&&p)for(const f in p)s(c,f,p[f].default);else l==="array"&&Array.isArray(d)&&d.forEach((f,v)=>s(c,v,f.default))}je.assignDefaults=a;function s(c,l,p){const{gen:d,compositeRule:f,data:v,opts:h}=c;if(p===void 0)return;const S=(0,e._)`${v}${(0,e.getProperty)(l)}`;if(f){(0,n.checkStrictMode)(c,`default is ignored for: ${S}`);return}let x=(0,e._)`${S} === undefined`;h.useDefaults==="empty"&&(x=(0,e._)`${x} || ${S} === null || ${S} === ""`),d.if(x,(0,e._)`${S} = ${(0,e.stringify)(p)}`)}return je}var fe={},Z={},Yt;function me(){if(Yt)return Z;Yt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.validateUnion=Z.validateArray=Z.usePattern=Z.callValidateCode=Z.schemaProperties=Z.allSchemaProperties=Z.noPropertyInData=Z.propertyInData=Z.isOwnProperty=Z.hasPropFunc=Z.reportMissingProp=Z.checkMissingProp=Z.checkReportMissingProp=void 0;const e=B(),n=Y(),a=pe(),s=Y();function c(t,i){const{gen:b,data:u,it:y}=t;b.if(h(b,u,i,y.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${i}`},!0),t.error()})}Z.checkReportMissingProp=c;function l({gen:t,data:i,it:{opts:b}},u,y){return(0,e.or)(...u.map(g=>(0,e.and)(h(t,i,g,b.ownProperties),(0,e._)`${y} = ${g}`)))}Z.checkMissingProp=l;function p(t,i){t.setParams({missingProperty:i},!0),t.error()}Z.reportMissingProp=p;function d(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Z.hasPropFunc=d;function f(t,i,b){return(0,e._)`${d(t)}.call(${i}, ${b})`}Z.isOwnProperty=f;function v(t,i,b,u){const y=(0,e._)`${i}${(0,e.getProperty)(b)} !== undefined`;return u?(0,e._)`${y} && ${f(t,i,b)}`:y}Z.propertyInData=v;function h(t,i,b,u){const y=(0,e._)`${i}${(0,e.getProperty)(b)} === undefined`;return u?(0,e.or)(y,(0,e.not)(f(t,i,b))):y}Z.noPropertyInData=h;function S(t){return t?Object.keys(t).filter(i=>i!=="__proto__"):[]}Z.allSchemaProperties=S;function x(t,i){return S(i).filter(b=>!(0,n.alwaysValidSchema)(t,i[b]))}Z.schemaProperties=x;function w({schemaCode:t,data:i,it:{gen:b,topSchemaRef:u,schemaPath:y,errorPath:g},it:I},A,V,O){const F=O?(0,e._)`${t}, ${i}, ${u}${y}`:i,L=[[a.default.instancePath,(0,e.strConcat)(a.default.instancePath,g)],[a.default.parentData,I.parentData],[a.default.parentDataProperty,I.parentDataProperty],[a.default.rootData,a.default.rootData]];I.opts.dynamicRef&&L.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const G=(0,e._)`${F}, ${b.object(...L)}`;return V!==e.nil?(0,e._)`${A}.call(${V}, ${G})`:(0,e._)`${A}(${G})`}Z.callValidateCode=w;const N=(0,e._)`new RegExp`;function T({gen:t,it:{opts:i}},b){const u=i.unicodeRegExp?"u":"",{regExp:y}=i.code,g=y(b,u);return t.scopeValue("pattern",{key:g.toString(),ref:g,code:(0,e._)`${y.code==="new RegExp"?N:(0,s.useFunc)(t,y)}(${b}, ${u})`})}Z.usePattern=T;function m(t){const{gen:i,data:b,keyword:u,it:y}=t,g=i.name("valid");if(y.allErrors){const A=i.let("valid",!0);return I(()=>i.assign(A,!1)),A}return i.var(g,!0),I(()=>i.break()),g;function I(A){const V=i.const("len",(0,e._)`${b}.length`);i.forRange("i",0,V,O=>{t.subschema({keyword:u,dataProp:O,dataPropType:n.Type.Num},g),i.if((0,e.not)(g),A)})}}Z.validateArray=m;function o(t){const{gen:i,schema:b,keyword:u,it:y}=t;if(!Array.isArray(b))throw new Error("ajv implementation error");if(b.some(A=>(0,n.alwaysValidSchema)(y,A))&&!y.opts.unevaluated)return;const g=i.let("valid",!1),I=i.name("_valid");i.block(()=>b.forEach((A,V)=>{const O=t.subschema({keyword:u,schemaProp:V,compositeRule:!0},I);i.assign(g,(0,e._)`${g} || ${I}`),t.mergeValidEvaluated(O,I)||i.if((0,e.not)(g))})),t.result(g,()=>t.reset(),()=>t.error(!0))}return Z.validateUnion=o,Z}var Ht;function cn(){if(Ht)return fe;Ht=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.validateKeywordUsage=fe.validSchemaType=fe.funcKeywordCode=fe.macroKeywordCode=void 0;const e=B(),n=pe(),a=me(),s=ke();function c(x,w){const{gen:N,keyword:T,schema:m,parentSchema:o,it:t}=x,i=w.macro.call(t.self,m,o,t),b=v(N,T,i);t.opts.validateSchema!==!1&&t.self.validateSchema(i,!0);const u=N.name("valid");x.subschema({schema:i,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${T}`,topSchemaRef:b,compositeRule:!0},u),x.pass(u,()=>x.error(!0))}fe.macroKeywordCode=c;function l(x,w){var N;const{gen:T,keyword:m,schema:o,parentSchema:t,$data:i,it:b}=x;f(b,w);const u=!i&&w.compile?w.compile.call(b.self,o,t,b):w.validate,y=v(T,m,u),g=T.let("valid");x.block$data(g,I),x.ok((N=w.valid)!==null&&N!==void 0?N:g);function I(){if(w.errors===!1)O(),w.modifying&&p(x),F(()=>x.error());else{const L=w.async?A():V();w.modifying&&p(x),F(()=>d(x,L))}}function A(){const L=T.let("ruleErrs",null);return T.try(()=>O((0,e._)`await `),G=>T.assign(g,!1).if((0,e._)`${G} instanceof ${b.ValidationError}`,()=>T.assign(L,(0,e._)`${G}.errors`),()=>T.throw(G))),L}function V(){const L=(0,e._)`${y}.errors`;return T.assign(L,null),O(e.nil),L}function O(L=w.async?(0,e._)`await `:e.nil){const G=b.opts.passContext?n.default.this:n.default.self,X=!("compile"in w&&!i||w.schema===!1);T.assign(g,(0,e._)`${L}${(0,a.callValidateCode)(x,y,G,X)}`,w.modifying)}function F(L){var G;T.if((0,e.not)((G=w.valid)!==null&&G!==void 0?G:g),L)}}fe.funcKeywordCode=l;function p(x){const{gen:w,data:N,it:T}=x;w.if(T.parentData,()=>w.assign(N,(0,e._)`${T.parentData}[${T.parentDataProperty}]`))}function d(x,w){const{gen:N}=x;N.if((0,e._)`Array.isArray(${w})`,()=>{N.assign(n.default.vErrors,(0,e._)`${n.default.vErrors} === null ? ${w} : ${n.default.vErrors}.concat(${w})`).assign(n.default.errors,(0,e._)`${n.default.vErrors}.length`),(0,s.extendErrors)(x)},()=>x.error())}function f({schemaEnv:x},w){if(w.async&&!x.$async)throw new Error("async keyword in sync schema")}function v(x,w,N){if(N===void 0)throw new Error(`keyword "${w}" failed to compile`);return x.scopeValue("keyword",typeof N=="function"?{ref:N}:{ref:N,code:(0,e.stringify)(N)})}function h(x,w,N=!1){return!w.length||w.some(T=>T==="array"?Array.isArray(x):T==="object"?x&&typeof x=="object"&&!Array.isArray(x):typeof x==T||N&&typeof x>"u")}fe.validSchemaType=h;function S({schema:x,opts:w,self:N,errSchemaPath:T},m,o){if(Array.isArray(m.keyword)?!m.keyword.includes(o):m.keyword!==o)throw new Error("ajv implementation error");const t=m.dependencies;if(t!=null&&t.some(i=>!Object.prototype.hasOwnProperty.call(x,i)))throw new Error(`parent schema must have dependencies of ${o}: ${t.join(",")}`);if(m.validateSchema&&!m.validateSchema(x[o])){const i=`keyword "${o}" value is invalid at path "${T}": `+N.errorsText(m.validateSchema.errors);if(w.validateSchema==="log")N.logger.error(i);else throw new Error(i)}}return fe.validateKeywordUsage=S,fe}var $e={},Zt;function dn(){if(Zt)return $e;Zt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.extendSubschemaMode=$e.extendSubschemaData=$e.getSubschema=void 0;const e=B(),n=Y();function a(l,{keyword:p,schemaProp:d,schema:f,schemaPath:v,errSchemaPath:h,topSchemaRef:S}){if(p!==void 0&&f!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(p!==void 0){const x=l.schema[p];return d===void 0?{schema:x,schemaPath:(0,e._)`${l.schemaPath}${(0,e.getProperty)(p)}`,errSchemaPath:`${l.errSchemaPath}/${p}`}:{schema:x[d],schemaPath:(0,e._)`${l.schemaPath}${(0,e.getProperty)(p)}${(0,e.getProperty)(d)}`,errSchemaPath:`${l.errSchemaPath}/${p}/${(0,n.escapeFragment)(d)}`}}if(f!==void 0){if(v===void 0||h===void 0||S===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:v,topSchemaRef:S,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}$e.getSubschema=a;function s(l,p,{dataProp:d,dataPropType:f,data:v,dataTypes:h,propertyName:S}){if(v!==void 0&&d!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:x}=p;if(d!==void 0){const{errorPath:N,dataPathArr:T,opts:m}=p,o=x.let("data",(0,e._)`${p.data}${(0,e.getProperty)(d)}`,!0);w(o),l.errorPath=(0,e.str)`${N}${(0,n.getErrorPath)(d,f,m.jsPropertySyntax)}`,l.parentDataProperty=(0,e._)`${d}`,l.dataPathArr=[...T,l.parentDataProperty]}if(v!==void 0){const N=v instanceof e.Name?v:x.let("data",v,!0);w(N),S!==void 0&&(l.propertyName=S)}h&&(l.dataTypes=h);function w(N){l.data=N,l.dataLevel=p.dataLevel+1,l.dataTypes=[],p.definedProperties=new Set,l.parentData=p.data,l.dataNames=[...p.dataNames,N]}}$e.extendSubschemaData=s;function c(l,{jtdDiscriminator:p,jtdMetadata:d,compositeRule:f,createErrors:v,allErrors:h}){f!==void 0&&(l.compositeRule=f),v!==void 0&&(l.createErrors=v),h!==void 0&&(l.allErrors=h),l.jtdDiscriminator=p,l.jtdMetadata=d}return $e.extendSubschemaMode=c,$e}var oe={},Xt;function Oe(){if(Xt)return oe;Xt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.getSchemaRefs=oe.resolveUrl=oe.normalizeId=oe._getFullPath=oe.getFullPath=oe.inlineRef=void 0;const e=Y(),n=xt(),a=nn(),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function c(T,m=!0){return typeof T=="boolean"?!0:m===!0?!p(T):m?d(T)<=m:!1}oe.inlineRef=c;const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function p(T){for(const m in T){if(l.has(m))return!0;const o=T[m];if(Array.isArray(o)&&o.some(p)||typeof o=="object"&&p(o))return!0}return!1}function d(T){let m=0;for(const o in T)if(o==="$ref"||(m++,!s.has(o)&&(typeof T[o]=="object"&&(0,e.eachItem)(T[o],t=>m+=d(t)),m===1/0)))return 1/0;return m}function f(T,m="",o){o!==!1&&(m=S(m));const t=T.parse(m);return v(T,t)}oe.getFullPath=f;function v(T,m){return T.serialize(m).split("#")[0]+"#"}oe._getFullPath=v;const h=/#\/?$/;function S(T){return T?T.replace(h,""):""}oe.normalizeId=S;function x(T,m,o){return o=S(o),T.resolve(m,o)}oe.resolveUrl=x;const w=/^[a-z_][-a-z0-9._]*$/i;function N(T,m){if(typeof T=="boolean")return{};const{schemaId:o,uriResolver:t}=this.opts,i=S(T[o]||m),b={"":i},u=f(t,i,!1),y={},g=new Set;return a(T,{allKeys:!0},(V,O,F,L)=>{if(L===void 0)return;const G=u+O;let X=b[L];typeof V[o]=="string"&&(X=ee.call(this,V[o])),ae.call(this,V.$anchor),ae.call(this,V.$dynamicAnchor),b[O]=X;function ee(H){const se=this.opts.uriResolver.resolve;if(H=S(X?se(X,H):H),g.has(H))throw A(H);g.add(H);let D=this.refs[H];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?I(V,D.schema,H):H!==S(G)&&(H[0]==="#"?(I(V,y[H],H),y[H]=V):this.refs[H]=G),H}function ae(H){if(typeof H=="string"){if(!w.test(H))throw new Error(`invalid anchor "${H}"`);ee.call(this,`#${H}`)}}}),y;function I(V,O,F){if(O!==void 0&&!n(V,O))throw A(F)}function A(V){return new Error(`reference "${V}" resolves to more than one schema`)}}return oe.getSchemaRefs=N,oe}var er;function Te(){if(er)return he;er=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=sn(),n=Re(),a=Bt(),s=Re(),c=on(),l=cn(),p=dn(),d=B(),f=pe(),v=Oe(),h=Y(),S=ke();function x(P){if(u(P)&&(g(P),b(P))){m(P);return}w(P,()=>(0,e.topBoolOrEmptySchema)(P))}he.validateFunctionCode=x;function w({gen:P,validateName:E,schema:R,schemaEnv:M,opts:J},W){J.code.es5?P.func(E,(0,d._)`${f.default.data}, ${f.default.valCxt}`,M.$async,()=>{P.code((0,d._)`"use strict"; ${t(R,J)}`),T(P,J),P.code(W)}):P.func(E,(0,d._)`${f.default.data}, ${N(J)}`,M.$async,()=>P.code(t(R,J)).code(W))}function N(P){return(0,d._)`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${P.dynamicRef?(0,d._)`, ${f.default.dynamicAnchors}={}`:d.nil}}={}`}function T(P,E){P.if(f.default.valCxt,()=>{P.var(f.default.instancePath,(0,d._)`${f.default.valCxt}.${f.default.instancePath}`),P.var(f.default.parentData,(0,d._)`${f.default.valCxt}.${f.default.parentData}`),P.var(f.default.parentDataProperty,(0,d._)`${f.default.valCxt}.${f.default.parentDataProperty}`),P.var(f.default.rootData,(0,d._)`${f.default.valCxt}.${f.default.rootData}`),E.dynamicRef&&P.var(f.default.dynamicAnchors,(0,d._)`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{P.var(f.default.instancePath,(0,d._)`""`),P.var(f.default.parentData,(0,d._)`undefined`),P.var(f.default.parentDataProperty,(0,d._)`undefined`),P.var(f.default.rootData,f.default.data),E.dynamicRef&&P.var(f.default.dynamicAnchors,(0,d._)`{}`)})}function m(P){const{schema:E,opts:R,gen:M}=P;w(P,()=>{R.$comment&&E.$comment&&L(P),V(P),M.let(f.default.vErrors,null),M.let(f.default.errors,0),R.unevaluated&&o(P),I(P),G(P)})}function o(P){const{gen:E,validateName:R}=P;P.evaluated=E.const("evaluated",(0,d._)`${R}.evaluated`),E.if((0,d._)`${P.evaluated}.dynamicProps`,()=>E.assign((0,d._)`${P.evaluated}.props`,(0,d._)`undefined`)),E.if((0,d._)`${P.evaluated}.dynamicItems`,()=>E.assign((0,d._)`${P.evaluated}.items`,(0,d._)`undefined`))}function t(P,E){const R=typeof P=="object"&&P[E.schemaId];return R&&(E.code.source||E.code.process)?(0,d._)`/*# sourceURL=${R} */`:d.nil}function i(P,E){if(u(P)&&(g(P),b(P))){y(P,E);return}(0,e.boolOrEmptySchema)(P,E)}function b({schema:P,self:E}){if(typeof P=="boolean")return!P;for(const R in P)if(E.RULES.all[R])return!0;return!1}function u(P){return typeof P.schema!="boolean"}function y(P,E){const{schema:R,gen:M,opts:J}=P;J.$comment&&R.$comment&&L(P),O(P),F(P);const W=M.const("_errs",f.default.errors);I(P,W),M.var(E,(0,d._)`${W} === ${f.default.errors}`)}function g(P){(0,h.checkUnknownRules)(P),A(P)}function I(P,E){if(P.opts.jtd)return ee(P,[],!1,E);const R=(0,n.getSchemaTypes)(P.schema),M=(0,n.coerceAndCheckDataType)(P,R);ee(P,R,!M,E)}function A(P){const{schema:E,errSchemaPath:R,opts:M,self:J}=P;E.$ref&&M.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(E,J.RULES)&&J.logger.warn(`$ref: keywords ignored in schema at path "${R}"`)}function V(P){const{schema:E,opts:R}=P;E.default!==void 0&&R.useDefaults&&R.strictSchema&&(0,h.checkStrictMode)(P,"default is ignored in the schema root")}function O(P){const E=P.schema[P.opts.schemaId];E&&(P.baseId=(0,v.resolveUrl)(P.opts.uriResolver,P.baseId,E))}function F(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function L({gen:P,schemaEnv:E,schema:R,errSchemaPath:M,opts:J}){const W=R.$comment;if(J.$comment===!0)P.code((0,d._)`${f.default.self}.logger.log(${W})`);else if(typeof J.$comment=="function"){const te=(0,d.str)`${M}/$comment`,ue=P.scopeValue("root",{ref:E.root});P.code((0,d._)`${f.default.self}.opts.$comment(${W}, ${te}, ${ue}.schema)`)}}function G(P){const{gen:E,schemaEnv:R,validateName:M,ValidationError:J,opts:W}=P;R.$async?E.if((0,d._)`${f.default.errors} === 0`,()=>E.return(f.default.data),()=>E.throw((0,d._)`new ${J}(${f.default.vErrors})`)):(E.assign((0,d._)`${M}.errors`,f.default.vErrors),W.unevaluated&&X(P),E.return((0,d._)`${f.default.errors} === 0`))}function X({gen:P,evaluated:E,props:R,items:M}){R instanceof d.Name&&P.assign((0,d._)`${E}.props`,R),M instanceof d.Name&&P.assign((0,d._)`${E}.items`,M)}function ee(P,E,R,M){const{gen:J,schema:W,data:te,allErrors:ue,opts:ie,self:ce}=P,{RULES:re}=ce;if(W.$ref&&(ie.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(W,re))){J.block(()=>K(P,"$ref",re.all.$ref.definition));return}ie.jtd||H(P,E),J.block(()=>{for(const le of re.rules)we(le);we(re.post)});function we(le){(0,a.shouldUseGroup)(W,le)&&(le.type?(J.if((0,s.checkDataType)(le.type,te,ie.strictNumbers)),ae(P,le),E.length===1&&E[0]===le.type&&R&&(J.else(),(0,s.reportTypeError)(P)),J.endIf()):ae(P,le),ue||J.if((0,d._)`${f.default.errors} === ${M||0}`))}}function ae(P,E){const{gen:R,schema:M,opts:{useDefaults:J}}=P;J&&(0,c.assignDefaults)(P,E.type),R.block(()=>{for(const W of E.rules)(0,a.shouldUseRule)(M,W)&&K(P,W.keyword,W.definition,E.type)})}function H(P,E){P.schemaEnv.meta||!P.opts.strictTypes||(se(P,E),P.opts.allowUnionTypes||D(P,E),k(P,P.dataTypes))}function se(P,E){if(E.length){if(!P.dataTypes.length){P.dataTypes=E;return}E.forEach(R=>{_(P.dataTypes,R)||$(P,`type "${R}" not allowed by context "${P.dataTypes.join(",")}"`)}),r(P,E)}}function D(P,E){E.length>1&&!(E.length===2&&E.includes("null"))&&$(P,"use allowUnionTypes to allow union type keyword")}function k(P,E){const R=P.self.RULES.all;for(const M in R){const J=R[M];if(typeof J=="object"&&(0,a.shouldUseRule)(P.schema,J)){const{type:W}=J.definition;W.length&&!W.some(te=>j(E,te))&&$(P,`missing type "${W.join(",")}" for keyword "${M}"`)}}}function j(P,E){return P.includes(E)||E==="number"&&P.includes("integer")}function _(P,E){return P.includes(E)||E==="integer"&&P.includes("number")}function r(P,E){const R=[];for(const M of P.dataTypes)_(E,M)?R.push(M):E.includes("integer")&&M==="number"&&R.push("integer");P.dataTypes=R}function $(P,E){const R=P.schemaEnv.baseId+P.errSchemaPath;E+=` at "${R}" (strictTypes)`,(0,h.checkStrictMode)(P,E,P.opts.strictTypes)}class C{constructor(E,R,M){if((0,l.validateKeywordUsage)(E,R,M),this.gen=E.gen,this.allErrors=E.allErrors,this.keyword=M,this.data=E.data,this.schema=E.schema[M],this.$data=R.$data&&E.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(E,this.schema,M,this.$data),this.schemaType=R.schemaType,this.parentSchema=E.schema,this.params={},this.it=E,this.def=R,this.$data)this.schemaCode=E.gen.const("vSchema",q(this.$data,E));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,R.schemaType,R.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(R.schemaType)}`);("code"in R?R.trackErrors:R.errors!==!1)&&(this.errsCount=E.gen.const("_errs",f.default.errors))}result(E,R,M){this.failResult((0,d.not)(E),R,M)}failResult(E,R,M){this.gen.if(E),M?M():this.error(),R?(this.gen.else(),R(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(E,R){this.failResult((0,d.not)(E),void 0,R)}fail(E){if(E===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(E),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(E){if(!this.$data)return this.fail(E);const{schemaCode:R}=this;this.fail((0,d._)`${R} !== undefined && (${(0,d.or)(this.invalid$data(),E)})`)}error(E,R,M){if(R){this.setParams(R),this._error(E,M),this.setParams({});return}this._error(E,M)}_error(E,R){(E?S.reportExtraError:S.reportError)(this,this.def.error,R)}$dataError(){(0,S.reportError)(this,this.def.$dataError||S.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,S.resetErrorsCount)(this.gen,this.errsCount)}ok(E){this.allErrors||this.gen.if(E)}setParams(E,R){R?Object.assign(this.params,E):this.params=E}block$data(E,R,M=d.nil){this.gen.block(()=>{this.check$data(E,M),R()})}check$data(E=d.nil,R=d.nil){if(!this.$data)return;const{gen:M,schemaCode:J,schemaType:W,def:te}=this;M.if((0,d.or)((0,d._)`${J} === undefined`,R)),E!==d.nil&&M.assign(E,!0),(W.length||te.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),E!==d.nil&&M.assign(E,!1)),M.else()}invalid$data(){const{gen:E,schemaCode:R,schemaType:M,def:J,it:W}=this;return(0,d.or)(te(),ue());function te(){if(M.length){if(!(R instanceof d.Name))throw new Error("ajv implementation error");const ie=Array.isArray(M)?M:[M];return(0,d._)`${(0,s.checkDataTypes)(ie,R,W.opts.strictNumbers,s.DataType.Wrong)}`}return d.nil}function ue(){if(J.validateSchema){const ie=E.scopeValue("validate$data",{ref:J.validateSchema});return(0,d._)`!${ie}(${R})`}return d.nil}}subschema(E,R){const M=(0,p.getSubschema)(this.it,E);(0,p.extendSubschemaData)(M,this.it,E),(0,p.extendSubschemaMode)(M,E);const J={...this.it,...M,items:void 0,props:void 0};return i(J,R),J}mergeEvaluated(E,R){const{it:M,gen:J}=this;M.opts.unevaluated&&(M.props!==!0&&E.props!==void 0&&(M.props=h.mergeEvaluated.props(J,E.props,M.props,R)),M.items!==!0&&E.items!==void 0&&(M.items=h.mergeEvaluated.items(J,E.items,M.items,R)))}mergeValidEvaluated(E,R){const{it:M,gen:J}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return J.if(R,()=>this.mergeEvaluated(E,d.Name)),!0}}he.KeywordCxt=C;function K(P,E,R,M){const J=new C(P,R,E);"code"in R?R.code(J,M):J.$data&&R.validate?(0,l.funcKeywordCode)(J,R):"macro"in R?(0,l.macroKeywordCode)(J,R):(R.compile||R.validate)&&(0,l.funcKeywordCode)(J,R)}const z=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function q(P,{dataLevel:E,dataNames:R,dataPathArr:M}){let J,W;if(P==="")return f.default.rootData;if(P[0]==="/"){if(!z.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);J=P,W=f.default.rootData}else{const ce=U.exec(P);if(!ce)throw new Error(`Invalid JSON-pointer: ${P}`);const re=+ce[1];if(J=ce[2],J==="#"){if(re>=E)throw new Error(ie("property/index",re));return M[E-re]}if(re>E)throw new Error(ie("data",re));if(W=R[E-re],!J)return W}let te=W;const ue=J.split("/");for(const ce of ue)ce&&(W=(0,d._)`${W}${(0,d.getProperty)((0,h.unescapeJsonPointer)(ce))}`,te=(0,d._)`${te} && ${W}`);return te;function ie(ce,re){return`Cannot access ${ce} ${re} levels up, current level is ${E}`}}return he.getData=q,he}var Ie={},tr;function bt(){if(tr)return Ie;tr=1,Object.defineProperty(Ie,"__esModule",{value:!0});class e extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}return Ie.default=e,Ie}var De={},rr;function ze(){if(rr)return De;rr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=Oe();class n extends Error{constructor(s,c,l,p){super(p||`can't resolve reference ${l} from id ${c}`),this.missingRef=(0,e.resolveUrl)(s,c,l),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(s,this.missingRef))}}return De.default=n,De}var de={},nr;function Pt(){if(nr)return de;nr=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resolveSchema=de.getCompilingSchema=de.resolveRef=de.compileSchema=de.SchemaEnv=void 0;const e=B(),n=bt(),a=pe(),s=Oe(),c=Y(),l=Te();class p{constructor(o){var t;this.refs={},this.dynamicAnchors={};let i;typeof o.schema=="object"&&(i=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(t=o.baseId)!==null&&t!==void 0?t:(0,s.normalizeId)(i?.[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=i?.$async,this.refs={}}}de.SchemaEnv=p;function d(m){const o=h.call(this,m);if(o)return o;const t=(0,s.getFullPath)(this.opts.uriResolver,m.root.baseId),{es5:i,lines:b}=this.opts.code,{ownProperties:u}=this.opts,y=new e.CodeGen(this.scope,{es5:i,lines:b,ownProperties:u});let g;m.$async&&(g=y.scopeValue("Error",{ref:n.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const I=y.scopeName("validate");m.validateName=I;const A={gen:y,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:y.scopeValue("schema",this.opts.code.source===!0?{ref:m.schema,code:(0,e.stringify)(m.schema)}:{ref:m.schema}),validateName:I,ValidationError:g,schema:m.schema,schemaEnv:m,rootId:t,baseId:m.baseId||t,schemaPath:e.nil,errSchemaPath:m.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let V;try{this._compilations.add(m),(0,l.validateFunctionCode)(A),y.optimize(this.opts.code.optimize);const O=y.toString();V=`${y.scopeRefs(a.default.scope)}return ${O}`,this.opts.code.process&&(V=this.opts.code.process(V,m));const F=new Function(`${a.default.self}`,`${a.default.scope}`,V)(this,this.scope.get());if(this.scope.value(I,{ref:F}),F.errors=null,F.schema=m.schema,F.schemaEnv=m,m.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:I,validateCode:O,scopeValues:y._values}),this.opts.unevaluated){const{props:L,items:G}=A;F.evaluated={props:L instanceof e.Name?void 0:L,items:G instanceof e.Name?void 0:G,dynamicProps:L instanceof e.Name,dynamicItems:G instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return m.validate=F,m}catch(O){throw delete m.validate,delete m.validateName,V&&this.logger.error("Error compiling schema, function code:",V),O}finally{this._compilations.delete(m)}}de.compileSchema=d;function f(m,o,t){var i;t=(0,s.resolveUrl)(this.opts.uriResolver,o,t);const b=m.refs[t];if(b)return b;let u=x.call(this,m,t);if(u===void 0){const y=(i=m.localRefs)===null||i===void 0?void 0:i[t],{schemaId:g}=this.opts;y&&(u=new p({schema:y,schemaId:g,root:m,baseId:o}))}if(u!==void 0)return m.refs[t]=v.call(this,u)}de.resolveRef=f;function v(m){return(0,s.inlineRef)(m.schema,this.opts.inlineRefs)?m.schema:m.validate?m:d.call(this,m)}function h(m){for(const o of this._compilations)if(S(o,m))return o}de.getCompilingSchema=h;function S(m,o){return m.schema===o.schema&&m.root===o.root&&m.baseId===o.baseId}function x(m,o){let t;for(;typeof(t=this.refs[o])=="string";)o=t;return t||this.schemas[o]||w.call(this,m,o)}function w(m,o){const t=this.opts.uriResolver.parse(o),i=(0,s._getFullPath)(this.opts.uriResolver,t);let b=(0,s.getFullPath)(this.opts.uriResolver,m.baseId,void 0);if(Object.keys(m.schema).length>0&&i===b)return T.call(this,t,m);const u=(0,s.normalizeId)(i),y=this.refs[u]||this.schemas[u];if(typeof y=="string"){const g=w.call(this,m,y);return typeof g?.schema!="object"?void 0:T.call(this,t,g)}if(typeof y?.schema=="object"){if(y.validate||d.call(this,y),u===(0,s.normalizeId)(o)){const{schema:g}=y,{schemaId:I}=this.opts,A=g[I];return A&&(b=(0,s.resolveUrl)(this.opts.uriResolver,b,A)),new p({schema:g,schemaId:I,root:m,baseId:b})}return T.call(this,t,y)}}de.resolveSchema=w;const N=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function T(m,{baseId:o,schema:t,root:i}){var b;if(((b=m.fragment)===null||b===void 0?void 0:b[0])!=="/")return;for(const g of m.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const I=t[(0,c.unescapeFragment)(g)];if(I===void 0)return;t=I;const A=typeof t=="object"&&t[this.opts.schemaId];!N.has(g)&&A&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,A))}let u;if(typeof t!="boolean"&&t.$ref&&!(0,c.schemaHasRulesButRef)(t,this.RULES)){const g=(0,s.resolveUrl)(this.opts.uriResolver,o,t.$ref);u=w.call(this,i,g)}const{schemaId:y}=this.opts;if(u=u||new p({schema:t,schemaId:y,root:i,baseId:o}),u.schema!==u.root.schema)return u}return de}const ln="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",un="Meta-schema for $data reference (JSON AnySchema extension proposal)",fn="object",mn=["$data"],hn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},pn=!1,yn={$id:ln,description:un,type:fn,required:mn,properties:hn,additionalProperties:pn};var Ae={},ar;function $n(){if(ar)return Ae;ar=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=an();return e.code='require("ajv/dist/runtime/uri").default',Ae.default=e,Ae}var sr;function vn(){return sr||(sr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var n=Te();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var a=B();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});const s=bt(),c=ze(),l=Jt(),p=Pt(),d=B(),f=Oe(),v=Re(),h=Y(),S=yn,x=$n(),w=(D,k)=>new RegExp(D,k);w.code="new RegExp";const N=["removeAdditional","useDefaults","coerceTypes"],T=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},o={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function i(D){var k,j,_,r,$,C,K,z,U,q,P,E,R,M,J,W,te,ue,ie,ce,re,we,le,$t,vt;const Ne=D.strict,gt=(k=D.code)===null||k===void 0?void 0:k.optimize,jt=gt===!0||gt===void 0?1:gt||0,Tt=(_=(j=D.code)===null||j===void 0?void 0:j.regExp)!==null&&_!==void 0?_:w,rn=(r=D.uriResolver)!==null&&r!==void 0?r:x.default;return{strictSchema:(C=($=D.strictSchema)!==null&&$!==void 0?$:Ne)!==null&&C!==void 0?C:!0,strictNumbers:(z=(K=D.strictNumbers)!==null&&K!==void 0?K:Ne)!==null&&z!==void 0?z:!0,strictTypes:(q=(U=D.strictTypes)!==null&&U!==void 0?U:Ne)!==null&&q!==void 0?q:"log",strictTuples:(E=(P=D.strictTuples)!==null&&P!==void 0?P:Ne)!==null&&E!==void 0?E:"log",strictRequired:(M=(R=D.strictRequired)!==null&&R!==void 0?R:Ne)!==null&&M!==void 0?M:!1,code:D.code?{...D.code,optimize:jt,regExp:Tt}:{optimize:jt,regExp:Tt},loopRequired:(J=D.loopRequired)!==null&&J!==void 0?J:t,loopEnum:(W=D.loopEnum)!==null&&W!==void 0?W:t,meta:(te=D.meta)!==null&&te!==void 0?te:!0,messages:(ue=D.messages)!==null&&ue!==void 0?ue:!0,inlineRefs:(ie=D.inlineRefs)!==null&&ie!==void 0?ie:!0,schemaId:(ce=D.schemaId)!==null&&ce!==void 0?ce:"$id",addUsedSchema:(re=D.addUsedSchema)!==null&&re!==void 0?re:!0,validateSchema:(we=D.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:(le=D.validateFormats)!==null&&le!==void 0?le:!0,unicodeRegExp:($t=D.unicodeRegExp)!==null&&$t!==void 0?$t:!0,int32range:(vt=D.int32range)!==null&&vt!==void 0?vt:!0,uriResolver:rn}}class b{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...i(k)};const{es5:j,lines:_}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:T,es5:j,lines:_}),this.logger=F(k.logger);const r=k.validateFormats;k.validateFormats=!1,this.RULES=(0,l.getRules)(),u.call(this,m,k,"NOT SUPPORTED"),u.call(this,o,k,"DEPRECATED","warn"),this._metaOpts=V.call(this),k.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&A.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),g.call(this),k.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:j,schemaId:_}=this.opts;let r=S;_==="id"&&(r={...S},r.id=r.$id,delete r.$id),j&&k&&this.addMetaSchema(r,r[_],!1)}defaultMeta(){const{meta:k,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[j]||k:void 0}validate(k,j){let _;if(typeof k=="string"){if(_=this.getSchema(k),!_)throw new Error(`no schema with key or ref "${k}"`)}else _=this.compile(k);const r=_(j);return"$async"in _||(this.errors=_.errors),r}compile(k,j){const _=this._addSchema(k,j);return _.validate||this._compileSchemaEnv(_)}compileAsync(k,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:_}=this.opts;return r.call(this,k,j);async function r(q,P){await $.call(this,q.$schema);const E=this._addSchema(q,P);return E.validate||C.call(this,E)}async function $(q){q&&!this.getSchema(q)&&await r.call(this,{$ref:q},!0)}async function C(q){try{return this._compileSchemaEnv(q)}catch(P){if(!(P instanceof c.default))throw P;return K.call(this,P),await z.call(this,P.missingSchema),C.call(this,q)}}function K({missingSchema:q,missingRef:P}){if(this.refs[q])throw new Error(`AnySchema ${q} is loaded but ${P} cannot be resolved`)}async function z(q){const P=await U.call(this,q);this.refs[q]||await $.call(this,P.$schema),this.refs[q]||this.addSchema(P,q,j)}async function U(q){const P=this._loading[q];if(P)return P;try{return await(this._loading[q]=_(q))}finally{delete this._loading[q]}}}addSchema(k,j,_,r=this.opts.validateSchema){if(Array.isArray(k)){for(const C of k)this.addSchema(C,void 0,_,r);return this}let $;if(typeof k=="object"){const{schemaId:C}=this.opts;if($=k[C],$!==void 0&&typeof $!="string")throw new Error(`schema ${C} must be string`)}return j=(0,f.normalizeId)(j||$),this._checkUnique(j),this.schemas[j]=this._addSchema(k,_,j,r,!0),this}addMetaSchema(k,j,_=this.opts.validateSchema){return this.addSchema(k,j,!0,_),this}validateSchema(k,j){if(typeof k=="boolean")return!0;let _;if(_=k.$schema,_!==void 0&&typeof _!="string")throw new Error("$schema must be a string");if(_=_||this.opts.defaultMeta||this.defaultMeta(),!_)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(_,k);if(!r&&j){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return r}getSchema(k){let j;for(;typeof(j=y.call(this,k))=="string";)k=j;if(j===void 0){const{schemaId:_}=this.opts,r=new p.SchemaEnv({schema:{},schemaId:_});if(j=p.resolveSchema.call(this,r,k),!j)return;this.refs[k]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=y.call(this,k);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const j=k;this._cache.delete(j);let _=k[this.opts.schemaId];return _&&(_=(0,f.normalizeId)(_),delete this.schemas[_],delete this.refs[_]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const j of k)this.addKeyword(j);return this}addKeyword(k,j){let _;if(typeof k=="string")_=k,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=_);else if(typeof k=="object"&&j===void 0){if(j=k,_=j.keyword,Array.isArray(_)&&!_.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,_,j),!j)return(0,h.eachItem)(_,$=>X.call(this,$)),this;ae.call(this,j);const r={...j,type:(0,v.getJSONTypes)(j.type),schemaType:(0,v.getJSONTypes)(j.schemaType)};return(0,h.eachItem)(_,r.type.length===0?$=>X.call(this,$,r):$=>r.type.forEach(C=>X.call(this,$,r,C))),this}getKeyword(k){const j=this.RULES.all[k];return typeof j=="object"?j.definition:!!j}removeKeyword(k){const{RULES:j}=this;delete j.keywords[k],delete j.all[k];for(const _ of j.rules){const r=_.rules.findIndex($=>$.keyword===k);r>=0&&_.rules.splice(r,1)}return this}addFormat(k,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[k]=j,this}errorsText(k=this.errors,{separator:j=", ",dataVar:_="data"}={}){return!k||k.length===0?"No errors":k.map(r=>`${_}${r.instancePath} ${r.message}`).reduce((r,$)=>r+j+$)}$dataMetaSchema(k,j){const _=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const r of j){const $=r.split("/").slice(1);let C=k;for(const K of $)C=C[K];for(const K in _){const z=_[K];if(typeof z!="object")continue;const{$data:U}=z.definition,q=C[K];U&&q&&(C[K]=se(q))}}return k}_removeAllSchemas(k,j){for(const _ in k){const r=k[_];(!j||j.test(_))&&(typeof r=="string"?delete k[_]:r&&!r.meta&&(this._cache.delete(r.schema),delete k[_]))}}_addSchema(k,j,_,r=this.opts.validateSchema,$=this.opts.addUsedSchema){let C;const{schemaId:K}=this.opts;if(typeof k=="object")C=k[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(k);if(z!==void 0)return z;_=(0,f.normalizeId)(C||_);const U=f.getSchemaRefs.call(this,k,_);return z=new p.SchemaEnv({schema:k,schemaId:K,meta:j,baseId:_,localRefs:U}),this._cache.set(z.schema,z),$&&!_.startsWith("#")&&(_&&this._checkUnique(_),this.refs[_]=z),r&&this.validateSchema(k,!0),z}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):p.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const j=this.opts;this.opts=this._metaOpts;try{p.compileSchema.call(this,k)}finally{this.opts=j}}}b.ValidationError=s.default,b.MissingRefError=c.default,e.default=b;function u(D,k,j,_="error"){for(const r in D){const $=r;$ in k&&this.logger[_](`${j}: option ${r}. ${D[$]}`)}}function y(D){return D=(0,f.normalizeId)(D),this.schemas[D]||this.refs[D]}function g(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const k in D)this.addSchema(D[k],k)}function I(){for(const D in this.opts.formats){const k=this.opts.formats[D];k&&this.addFormat(D,k)}}function A(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in D){const j=D[k];j.keyword||(j.keyword=k),this.addKeyword(j)}}function V(){const D={...this.opts};for(const k of N)delete D[k];return D}const O={log(){},warn(){},error(){}};function F(D){if(D===!1)return O;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function G(D,k){const{RULES:j}=this;if((0,h.eachItem)(D,_=>{if(j.keywords[_])throw new Error(`Keyword ${_} is already defined`);if(!L.test(_))throw new Error(`Keyword ${_} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function X(D,k,j){var _;const r=k?.post;if(j&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let C=r?$.post:$.rules.find(({type:z})=>z===j);if(C||(C={type:j,rules:[]},$.rules.push(C)),$.keywords[D]=!0,!k)return;const K={keyword:D,definition:{...k,type:(0,v.getJSONTypes)(k.type),schemaType:(0,v.getJSONTypes)(k.schemaType)}};k.before?ee.call(this,C,K,k.before):C.rules.push(K),$.all[D]=K,(_=k.implements)===null||_===void 0||_.forEach(z=>this.addKeyword(z))}function ee(D,k,j){const _=D.rules.findIndex(r=>r.keyword===j);_>=0?D.rules.splice(_,0,k):(D.rules.push(k),this.logger.warn(`rule ${j} is not defined`))}function ae(D){let{metaSchema:k}=D;k!==void 0&&(D.$data&&this.opts.$data&&(k=se(k)),D.validateSchema=this.compile(k,!0))}const H={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(D){return{anyOf:[D,H]}}}(Ct)),Ct}var Me={},Ve={},Ke={},or;function gn(){if(or)return Ke;or=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ke.default=e,Ke}var ve={},ir;function _n(){if(ir)return ve;ir=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.callRef=ve.getValidate=void 0;const e=ze(),n=me(),a=B(),s=pe(),c=Pt(),l=Y(),p={keyword:"$ref",schemaType:"string",code(v){const{gen:h,schema:S,it:x}=v,{baseId:w,schemaEnv:N,validateName:T,opts:m,self:o}=x,{root:t}=N;if((S==="#"||S==="#/")&&w===t.baseId)return b();const i=c.resolveRef.call(o,t,w,S);if(i===void 0)throw new e.default(x.opts.uriResolver,w,S);if(i instanceof c.SchemaEnv)return u(i);return y(i);function b(){if(N===t)return f(v,T,N,N.$async);const g=h.scopeValue("root",{ref:t});return f(v,(0,a._)`${g}.validate`,t,t.$async)}function u(g){const I=d(v,g);f(v,I,g,g.$async)}function y(g){const I=h.scopeValue("schema",m.code.source===!0?{ref:g,code:(0,a.stringify)(g)}:{ref:g}),A=h.name("valid"),V=v.subschema({schema:g,dataTypes:[],schemaPath:a.nil,topSchemaRef:I,errSchemaPath:S},A);v.mergeEvaluated(V),v.ok(A)}}};function d(v,h){const{gen:S}=v;return h.validate?S.scopeValue("validate",{ref:h.validate}):(0,a._)`${S.scopeValue("wrapper",{ref:h})}.validate`}ve.getValidate=d;function f(v,h,S,x){const{gen:w,it:N}=v,{allErrors:T,schemaEnv:m,opts:o}=N,t=o.passContext?s.default.this:a.nil;x?i():b();function i(){if(!m.$async)throw new Error("async schema referenced by sync schema");const g=w.let("valid");w.try(()=>{w.code((0,a._)`await ${(0,n.callValidateCode)(v,h,t)}`),y(h),T||w.assign(g,!0)},I=>{w.if((0,a._)`!(${I} instanceof ${N.ValidationError})`,()=>w.throw(I)),u(I),T||w.assign(g,!1)}),v.ok(g)}function b(){v.result((0,n.callValidateCode)(v,h,t),()=>y(h),()=>u(h))}function u(g){const I=(0,a._)`${g}.errors`;w.assign(s.default.vErrors,(0,a._)`${s.default.vErrors} === null ? ${I} : ${s.default.vErrors}.concat(${I})`),w.assign(s.default.errors,(0,a._)`${s.default.vErrors}.length`)}function y(g){var I;if(!N.opts.unevaluated)return;const A=(I=S?.validate)===null||I===void 0?void 0:I.evaluated;if(N.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(N.props=l.mergeEvaluated.props(w,A.props,N.props));else{const V=w.var("props",(0,a._)`${g}.evaluated.props`);N.props=l.mergeEvaluated.props(w,V,N.props,a.Name)}if(N.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(N.items=l.mergeEvaluated.items(w,A.items,N.items));else{const V=w.var("items",(0,a._)`${g}.evaluated.items`);N.items=l.mergeEvaluated.items(w,V,N.items,a.Name)}}}return ve.callRef=f,ve.default=p,ve}var cr;function wn(){if(cr)return Ve;cr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=gn(),n=_n(),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,n.default];return Ve.default=a,Ve}var Fe={},Le={},dr;function bn(){if(dr)return Le;dr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=B(),n=e.operators,a={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:l,schemaCode:p})=>(0,e.str)`must be ${a[l].okStr} ${p}`,params:({keyword:l,schemaCode:p})=>(0,e._)`{comparison: ${a[l].okStr}, limit: ${p}}`},c={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:s,code(l){const{keyword:p,data:d,schemaCode:f}=l;l.fail$data((0,e._)`${d} ${a[p].fail} ${f} || isNaN(${d})`)}};return Le.default=c,Le}var Ue={},lr;function Pn(){if(lr)return Ue;lr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=B(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,e._)`{multipleOf: ${a}}`},code(a){const{gen:s,data:c,schemaCode:l,it:p}=a,d=p.opts.multipleOfPrecision,f=s.let("res"),v=d?(0,e._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${d}`:(0,e._)`${f} !== parseInt(${f})`;a.fail$data((0,e._)`(${l} === 0 || (${f} = ${c}/${l}, ${v}))`)}};return Ue.default=n,Ue}var Ge={},Je={},ur;function Sn(){if(ur)return Je;ur=1,Object.defineProperty(Je,"__esModule",{value:!0});function e(n){const a=n.length;let s=0,c=0,l;for(;c<a;)s++,l=n.charCodeAt(c++),l>=55296&&l<=56319&&c<a&&(l=n.charCodeAt(c),(l&64512)===56320&&c++);return s}return Je.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Je}var fr;function Nn(){if(fr)return Ge;fr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=B(),n=Y(),a=Sn(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:l}){const p=c==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${p} than ${l} characters`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:l,data:p,schemaCode:d,it:f}=c,v=l==="maxLength"?e.operators.GT:e.operators.LT,h=f.opts.unicode===!1?(0,e._)`${p}.length`:(0,e._)`${(0,n.useFunc)(c.gen,a.default)}(${p})`;c.fail$data((0,e._)`${h} ${v} ${d}`)}};return Ge.default=s,Ge}var qe={},mr;function En(){if(mr)return qe;mr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=me(),n=B(),a={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,n.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,n._)`{pattern: ${s}}`},code(s){const{data:c,$data:l,schema:p,schemaCode:d,it:f}=s,v=f.opts.unicodeRegExp?"u":"",h=l?(0,n._)`(new RegExp(${d}, ${v}))`:(0,e.usePattern)(s,p);s.fail$data((0,n._)`!${h}.test(${c})`)}};return qe.default=a,qe}var Be={},hr;function kn(){if(hr)return Be;hr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=B(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:s}){const c=a==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${s} properties`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:s,data:c,schemaCode:l}=a,p=s==="maxProperties"?e.operators.GT:e.operators.LT;a.fail$data((0,e._)`Object.keys(${c}).length ${p} ${l}`)}};return Be.default=n,Be}var Qe={},pr;function jn(){if(pr)return Qe;pr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=me(),n=B(),a=Y(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:c}})=>(0,n.str)`must have required property '${c}'`,params:({params:{missingProperty:c}})=>(0,n._)`{missingProperty: ${c}}`},code(c){const{gen:l,schema:p,schemaCode:d,data:f,$data:v,it:h}=c,{opts:S}=h;if(!v&&p.length===0)return;const x=p.length>=S.loopRequired;if(h.allErrors?w():N(),S.strictRequired){const o=c.parentSchema.properties,{definedProperties:t}=c.it;for(const i of p)if(o?.[i]===void 0&&!t.has(i)){const b=h.schemaEnv.baseId+h.errSchemaPath,u=`required property "${i}" is not defined at "${b}" (strictRequired)`;(0,a.checkStrictMode)(h,u,h.opts.strictRequired)}}function w(){if(x||v)c.block$data(n.nil,T);else for(const o of p)(0,e.checkReportMissingProp)(c,o)}function N(){const o=l.let("missing");if(x||v){const t=l.let("valid",!0);c.block$data(t,()=>m(o,t)),c.ok(t)}else l.if((0,e.checkMissingProp)(c,p,o)),(0,e.reportMissingProp)(c,o),l.else()}function T(){l.forOf("prop",d,o=>{c.setParams({missingProperty:o}),l.if((0,e.noPropertyInData)(l,f,o,S.ownProperties),()=>c.error())})}function m(o,t){c.setParams({missingProperty:o}),l.forOf(o,d,()=>{l.assign(t,(0,e.propertyInData)(l,f,o,S.ownProperties)),l.if((0,n.not)(t),()=>{c.error(),l.break()})},n.nil)}}};return Qe.default=s,Qe}var We={},yr;function Tn(){if(yr)return We;yr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=B(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:s}){const c=a==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${s} items`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:s,data:c,schemaCode:l}=a,p=s==="maxItems"?e.operators.GT:e.operators.LT;a.fail$data((0,e._)`${c}.length ${p} ${l}`)}};return We.default=n,We}var Ye={},He={},$r;function St(){if($r)return He;$r=1,Object.defineProperty(He,"__esModule",{value:!0});const e=xt();return e.code='require("ajv/dist/runtime/equal").default',He.default=e,He}var vr;function xn(){if(vr)return Ye;vr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=Re(),n=B(),a=Y(),s=St(),c={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:p}})=>(0,n.str)`must NOT have duplicate items (items ## ${p} and ${l} are identical)`,params:({params:{i:l,j:p}})=>(0,n._)`{i: ${l}, j: ${p}}`},code(l){const{gen:p,data:d,$data:f,schema:v,parentSchema:h,schemaCode:S,it:x}=l;if(!f&&!v)return;const w=p.let("valid"),N=h.items?(0,e.getSchemaTypes)(h.items):[];l.block$data(w,T,(0,n._)`${S} === false`),l.ok(w);function T(){const i=p.let("i",(0,n._)`${d}.length`),b=p.let("j");l.setParams({i,j:b}),p.assign(w,!0),p.if((0,n._)`${i} > 1`,()=>(m()?o:t)(i,b))}function m(){return N.length>0&&!N.some(i=>i==="object"||i==="array")}function o(i,b){const u=p.name("item"),y=(0,e.checkDataTypes)(N,u,x.opts.strictNumbers,e.DataType.Wrong),g=p.const("indices",(0,n._)`{}`);p.for((0,n._)`;${i}--;`,()=>{p.let(u,(0,n._)`${d}[${i}]`),p.if(y,(0,n._)`continue`),N.length>1&&p.if((0,n._)`typeof ${u} == "string"`,(0,n._)`${u} += "_"`),p.if((0,n._)`typeof ${g}[${u}] == "number"`,()=>{p.assign(b,(0,n._)`${g}[${u}]`),l.error(),p.assign(w,!1).break()}).code((0,n._)`${g}[${u}] = ${i}`)})}function t(i,b){const u=(0,a.useFunc)(p,s.default),y=p.name("outer");p.label(y).for((0,n._)`;${i}--;`,()=>p.for((0,n._)`${b} = ${i}; ${b}--;`,()=>p.if((0,n._)`${u}(${d}[${i}], ${d}[${b}])`,()=>{l.error(),p.assign(w,!1).break(y)})))}}};return Ye.default=c,Ye}var Ze={},gr;function Cn(){if(gr)return Ze;gr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=B(),n=Y(),a=St(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:c})=>(0,e._)`{allowedValue: ${c}}`},code(c){const{gen:l,data:p,$data:d,schemaCode:f,schema:v}=c;d||v&&typeof v=="object"?c.fail$data((0,e._)`!${(0,n.useFunc)(l,a.default)}(${p}, ${f})`):c.fail((0,e._)`${v} !== ${p}`)}};return Ze.default=s,Ze}var Xe={},_r;function Rn(){if(_r)return Xe;_r=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=B(),n=Y(),a=St(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:c})=>(0,e._)`{allowedValues: ${c}}`},code(c){const{gen:l,data:p,$data:d,schema:f,schemaCode:v,it:h}=c;if(!d&&f.length===0)throw new Error("enum must have non-empty array");const S=f.length>=h.opts.loopEnum;let x;const w=()=>x??(x=(0,n.useFunc)(l,a.default));let N;if(S||d)N=l.let("valid"),c.block$data(N,T);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const o=l.const("vSchema",v);N=(0,e.or)(...f.map((t,i)=>m(o,i)))}c.pass(N);function T(){l.assign(N,!1),l.forOf("v",v,o=>l.if((0,e._)`${w()}(${p}, ${o})`,()=>l.assign(N,!0).break()))}function m(o,t){const i=f[t];return typeof i=="object"&&i!==null?(0,e._)`${w()}(${p}, ${o}[${t}])`:(0,e._)`${p} === ${i}`}}};return Xe.default=s,Xe}var wr;function On(){if(wr)return Fe;wr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=bn(),n=Pn(),a=Nn(),s=En(),c=kn(),l=jn(),p=Tn(),d=xn(),f=Cn(),v=Rn(),h=[e.default,n.default,a.default,s.default,c.default,l.default,p.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,v.default];return Fe.default=h,Fe}var et={},be={},br;function Pr(){if(br)return be;br=1,Object.defineProperty(be,"__esModule",{value:!0}),be.validateAdditionalItems=void 0;const e=B(),n=Y(),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>(0,e.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,e._)`{limit: ${c}}`},code(c){const{parentSchema:l,it:p}=c,{items:d}=l;if(!Array.isArray(d)){(0,n.checkStrictMode)(p,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(c,d)}};function s(c,l){const{gen:p,schema:d,data:f,keyword:v,it:h}=c;h.items=!0;const S=p.const("len",(0,e._)`${f}.length`);if(d===!1)c.setParams({len:l.length}),c.pass((0,e._)`${S} <= ${l.length}`);else if(typeof d=="object"&&!(0,n.alwaysValidSchema)(h,d)){const w=p.var("valid",(0,e._)`${S} <= ${l.length}`);p.if((0,e.not)(w),()=>x(w)),c.ok(w)}function x(w){p.forRange("i",l.length,S,N=>{c.subschema({keyword:v,dataProp:N,dataPropType:n.Type.Num},w),h.allErrors||p.if((0,e.not)(w),()=>p.break())})}}return be.validateAdditionalItems=s,be.default=a,be}var tt={},Pe={},Sr;function Nr(){if(Sr)return Pe;Sr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=B(),n=Y(),a=me(),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(l){const{schema:p,it:d}=l;if(Array.isArray(p))return c(l,"additionalItems",p);d.items=!0,!(0,n.alwaysValidSchema)(d,p)&&l.ok((0,a.validateArray)(l))}};function c(l,p,d=l.schema){const{gen:f,parentSchema:v,data:h,keyword:S,it:x}=l;T(v),x.opts.unevaluated&&d.length&&x.items!==!0&&(x.items=n.mergeEvaluated.items(f,d.length,x.items));const w=f.name("valid"),N=f.const("len",(0,e._)`${h}.length`);d.forEach((m,o)=>{(0,n.alwaysValidSchema)(x,m)||(f.if((0,e._)`${N} > ${o}`,()=>l.subschema({keyword:S,schemaProp:o,dataProp:o},w)),l.ok(w))});function T(m){const{opts:o,errSchemaPath:t}=x,i=d.length,b=i===m.minItems&&(i===m.maxItems||m[p]===!1);if(o.strictTuples&&!b){const u=`"${S}" is ${i}-tuple, but minItems or maxItems/${p} are not specified or different at path "${t}"`;(0,n.checkStrictMode)(x,u,o.strictTuples)}}}return Pe.validateTuple=c,Pe.default=s,Pe}var Er;function In(){if(Er)return tt;Er=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=Nr(),n={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,e.validateTuple)(a,"items")};return tt.default=n,tt}var rt={},kr;function Dn(){if(kr)return rt;kr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=B(),n=Y(),a=me(),s=Pr(),c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){const{schema:p,parentSchema:d,it:f}=l,{prefixItems:v}=d;f.items=!0,!(0,n.alwaysValidSchema)(f,p)&&(v?(0,s.validateAdditionalItems)(l,v):l.ok((0,a.validateArray)(l)))}};return rt.default=c,rt}var nt={},jr;function zn(){if(jr)return nt;jr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=B(),n=Y(),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:c}})=>c===void 0?(0,e.str)`must contain at least ${s} valid item(s)`:(0,e.str)`must contain at least ${s} and no more than ${c} valid item(s)`,params:({params:{min:s,max:c}})=>c===void 0?(0,e._)`{minContains: ${s}}`:(0,e._)`{minContains: ${s}, maxContains: ${c}}`},code(s){const{gen:c,schema:l,parentSchema:p,data:d,it:f}=s;let v,h;const{minContains:S,maxContains:x}=p;f.opts.next?(v=S===void 0?1:S,h=x):v=1;const w=c.const("len",(0,e._)`${d}.length`);if(s.setParams({min:v,max:h}),h===void 0&&v===0){(0,n.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&v>h){(0,n.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,n.alwaysValidSchema)(f,l)){let t=(0,e._)`${w} >= ${v}`;h!==void 0&&(t=(0,e._)`${t} && ${w} <= ${h}`),s.pass(t);return}f.items=!0;const N=c.name("valid");h===void 0&&v===1?m(N,()=>c.if(N,()=>c.break())):v===0?(c.let(N,!0),h!==void 0&&c.if((0,e._)`${d}.length > 0`,T)):(c.let(N,!1),T()),s.result(N,()=>s.reset());function T(){const t=c.name("_valid"),i=c.let("count",0);m(t,()=>c.if(t,()=>o(i)))}function m(t,i){c.forRange("i",0,w,b=>{s.subschema({keyword:"contains",dataProp:b,dataPropType:n.Type.Num,compositeRule:!0},t),i()})}function o(t){c.code((0,e._)`${t}++`),h===void 0?c.if((0,e._)`${t} >= ${v}`,()=>c.assign(N,!0).break()):(c.if((0,e._)`${t} > ${h}`,()=>c.assign(N,!1).break()),v===1?c.assign(N,!0):c.if((0,e._)`${t} >= ${v}`,()=>c.assign(N,!0)))}}};return nt.default=a,nt}var Tr={},xr;function An(){return xr||(xr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const n=B(),a=Y(),s=me();e.error={message:({params:{property:f,depsCount:v,deps:h}})=>{const S=v===1?"property":"properties";return(0,n.str)`must have ${S} ${h} when property ${f} is present`},params:({params:{property:f,depsCount:v,deps:h,missingProperty:S}})=>(0,n._)`{property: ${f},
    missingProperty: ${S},
    depsCount: ${v},
    deps: ${h}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(f){const[v,h]=l(f);p(f,v),d(f,h)}};function l({schema:f}){const v={},h={};for(const S in f){if(S==="__proto__")continue;const x=Array.isArray(f[S])?v:h;x[S]=f[S]}return[v,h]}function p(f,v=f.schema){const{gen:h,data:S,it:x}=f;if(Object.keys(v).length===0)return;const w=h.let("missing");for(const N in v){const T=v[N];if(T.length===0)continue;const m=(0,s.propertyInData)(h,S,N,x.opts.ownProperties);f.setParams({property:N,depsCount:T.length,deps:T.join(", ")}),x.allErrors?h.if(m,()=>{for(const o of T)(0,s.checkReportMissingProp)(f,o)}):(h.if((0,n._)`${m} && (${(0,s.checkMissingProp)(f,T,w)})`),(0,s.reportMissingProp)(f,w),h.else())}}e.validatePropertyDeps=p;function d(f,v=f.schema){const{gen:h,data:S,keyword:x,it:w}=f,N=h.name("valid");for(const T in v)(0,a.alwaysValidSchema)(w,v[T])||(h.if((0,s.propertyInData)(h,S,T,w.opts.ownProperties),()=>{const m=f.subschema({keyword:x,schemaProp:T},N);f.mergeValidEvaluated(m,N)},()=>h.var(N,!0)),f.ok(N))}e.validateSchemaDeps=d,e.default=c}(Tr)),Tr}var at={},Cr;function Mn(){if(Cr)return at;Cr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=B(),n=Y(),a={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,e._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:c,schema:l,data:p,it:d}=s;if((0,n.alwaysValidSchema)(d,l))return;const f=c.name("valid");c.forIn("key",p,v=>{s.setParams({propertyName:v}),s.subschema({keyword:"propertyNames",data:v,dataTypes:["string"],propertyName:v,compositeRule:!0},f),c.if((0,e.not)(f),()=>{s.error(!0),d.allErrors||c.break()})}),s.ok(f)}};return at.default=a,at}var st={},Rr;function Or(){if(Rr)return st;Rr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=me(),n=B(),a=pe(),s=Y(),c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,n._)`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:p,schema:d,parentSchema:f,data:v,errsCount:h,it:S}=l;if(!h)throw new Error("ajv implementation error");const{allErrors:x,opts:w}=S;if(S.props=!0,w.removeAdditional!=="all"&&(0,s.alwaysValidSchema)(S,d))return;const N=(0,e.allSchemaProperties)(f.properties),T=(0,e.allSchemaProperties)(f.patternProperties);m(),l.ok((0,n._)`${h} === ${a.default.errors}`);function m(){p.forIn("key",v,u=>{!N.length&&!T.length?i(u):p.if(o(u),()=>i(u))})}function o(u){let y;if(N.length>8){const g=(0,s.schemaRefOrVal)(S,f.properties,"properties");y=(0,e.isOwnProperty)(p,g,u)}else N.length?y=(0,n.or)(...N.map(g=>(0,n._)`${u} === ${g}`)):y=n.nil;return T.length&&(y=(0,n.or)(y,...T.map(g=>(0,n._)`${(0,e.usePattern)(l,g)}.test(${u})`))),(0,n.not)(y)}function t(u){p.code((0,n._)`delete ${v}[${u}]`)}function i(u){if(w.removeAdditional==="all"||w.removeAdditional&&d===!1){t(u);return}if(d===!1){l.setParams({additionalProperty:u}),l.error(),x||p.break();return}if(typeof d=="object"&&!(0,s.alwaysValidSchema)(S,d)){const y=p.name("valid");w.removeAdditional==="failing"?(b(u,y,!1),p.if((0,n.not)(y),()=>{l.reset(),t(u)})):(b(u,y),x||p.if((0,n.not)(y),()=>p.break()))}}function b(u,y,g){const I={keyword:"additionalProperties",dataProp:u,dataPropType:s.Type.Str};g===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(I,y)}}};return st.default=c,st}var ot={},Ir;function Vn(){if(Ir)return ot;Ir=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=Te(),n=me(),a=Y(),s=Or(),c={keyword:"properties",type:"object",schemaType:"object",code(l){const{gen:p,schema:d,parentSchema:f,data:v,it:h}=l;h.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&s.default.code(new e.KeywordCxt(h,s.default,"additionalProperties"));const S=(0,n.allSchemaProperties)(d);for(const m of S)h.definedProperties.add(m);h.opts.unevaluated&&S.length&&h.props!==!0&&(h.props=a.mergeEvaluated.props(p,(0,a.toHash)(S),h.props));const x=S.filter(m=>!(0,a.alwaysValidSchema)(h,d[m]));if(x.length===0)return;const w=p.name("valid");for(const m of x)N(m)?T(m):(p.if((0,n.propertyInData)(p,v,m,h.opts.ownProperties)),T(m),h.allErrors||p.else().var(w,!0),p.endIf()),l.it.definedProperties.add(m),l.ok(w);function N(m){return h.opts.useDefaults&&!h.compositeRule&&d[m].default!==void 0}function T(m){l.subschema({keyword:"properties",schemaProp:m,dataProp:m},w)}}};return ot.default=c,ot}var it={},Dr;function Kn(){if(Dr)return it;Dr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=me(),n=B(),a=Y(),s=Y(),c={keyword:"patternProperties",type:"object",schemaType:"object",code(l){const{gen:p,schema:d,data:f,parentSchema:v,it:h}=l,{opts:S}=h,x=(0,e.allSchemaProperties)(d),w=x.filter(b=>(0,a.alwaysValidSchema)(h,d[b]));if(x.length===0||w.length===x.length&&(!h.opts.unevaluated||h.props===!0))return;const N=S.strictSchema&&!S.allowMatchingProperties&&v.properties,T=p.name("valid");h.props!==!0&&!(h.props instanceof n.Name)&&(h.props=(0,s.evaluatedPropsToName)(p,h.props));const{props:m}=h;o();function o(){for(const b of x)N&&t(b),h.allErrors?i(b):(p.var(T,!0),i(b),p.if(T))}function t(b){for(const u in N)new RegExp(b).test(u)&&(0,a.checkStrictMode)(h,`property ${u} matches pattern ${b} (use allowMatchingProperties)`)}function i(b){p.forIn("key",f,u=>{p.if((0,n._)`${(0,e.usePattern)(l,b)}.test(${u})`,()=>{const y=w.includes(b);y||l.subschema({keyword:"patternProperties",schemaProp:b,dataProp:u,dataPropType:s.Type.Str},T),h.opts.unevaluated&&m!==!0?p.assign((0,n._)`${m}[${u}]`,!0):!y&&!h.allErrors&&p.if((0,n.not)(T),()=>p.break())})})}}};return it.default=c,it}var ct={},zr;function Fn(){if(zr)return ct;zr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Y(),n={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){const{gen:s,schema:c,it:l}=a;if((0,e.alwaysValidSchema)(l,c)){a.fail();return}const p=s.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},p),a.failResult(p,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}};return ct.default=n,ct}var dt={},Ar;function Ln(){if(Ar)return dt;Ar=1,Object.defineProperty(dt,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:me().validateUnion,error:{message:"must match a schema in anyOf"}};return dt.default=e,dt}var lt={},Mr;function Un(){if(Mr)return lt;Mr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=B(),n=Y(),a={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,e._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:c,schema:l,parentSchema:p,it:d}=s;if(!Array.isArray(l))throw new Error("ajv implementation error");if(d.opts.discriminator&&p.discriminator)return;const f=l,v=c.let("valid",!1),h=c.let("passing",null),S=c.name("_valid");s.setParams({passing:h}),c.block(x),s.result(v,()=>s.reset(),()=>s.error(!0));function x(){f.forEach((w,N)=>{let T;(0,n.alwaysValidSchema)(d,w)?c.var(S,!0):T=s.subschema({keyword:"oneOf",schemaProp:N,compositeRule:!0},S),N>0&&c.if((0,e._)`${S} && ${v}`).assign(v,!1).assign(h,(0,e._)`[${h}, ${N}]`).else(),c.if(S,()=>{c.assign(v,!0),c.assign(h,N),T&&s.mergeEvaluated(T,e.Name)})})}}};return lt.default=a,lt}var ut={},Vr;function Gn(){if(Vr)return ut;Vr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Y(),n={keyword:"allOf",schemaType:"array",code(a){const{gen:s,schema:c,it:l}=a;if(!Array.isArray(c))throw new Error("ajv implementation error");const p=s.name("valid");c.forEach((d,f)=>{if((0,e.alwaysValidSchema)(l,d))return;const v=a.subschema({keyword:"allOf",schemaProp:f},p);a.ok(p),a.mergeEvaluated(v)})}};return ut.default=n,ut}var ft={},Kr;function Jn(){if(Kr)return ft;Kr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=B(),n=Y(),a={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:c})=>(0,e.str)`must match "${c.ifClause}" schema`,params:({params:c})=>(0,e._)`{failingKeyword: ${c.ifClause}}`},code(c){const{gen:l,parentSchema:p,it:d}=c;p.then===void 0&&p.else===void 0&&(0,n.checkStrictMode)(d,'"if" without "then" and "else" is ignored');const f=s(d,"then"),v=s(d,"else");if(!f&&!v)return;const h=l.let("valid",!0),S=l.name("_valid");if(x(),c.reset(),f&&v){const N=l.let("ifClause");c.setParams({ifClause:N}),l.if(S,w("then",N),w("else",N))}else f?l.if(S,w("then")):l.if((0,e.not)(S),w("else"));c.pass(h,()=>c.error(!0));function x(){const N=c.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},S);c.mergeEvaluated(N)}function w(N,T){return()=>{const m=c.subschema({keyword:N},S);l.assign(h,S),c.mergeValidEvaluated(m,h),T?l.assign(T,(0,e._)`${N}`):c.setParams({ifClause:N})}}}};function s(c,l){const p=c.schema[l];return p!==void 0&&!(0,n.alwaysValidSchema)(c,p)}return ft.default=a,ft}var mt={},Fr;function qn(){if(Fr)return mt;Fr=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=Y(),n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:s,it:c}){s.if===void 0&&(0,e.checkStrictMode)(c,`"${a}" without "if" is ignored`)}};return mt.default=n,mt}var Lr;function Bn(){if(Lr)return et;Lr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=Pr(),n=In(),a=Nr(),s=Dn(),c=zn(),l=An(),p=Mn(),d=Or(),f=Vn(),v=Kn(),h=Fn(),S=Ln(),x=Un(),w=Gn(),N=Jn(),T=qn();function m(o=!1){const t=[h.default,S.default,x.default,w.default,N.default,T.default,p.default,d.default,l.default,f.default,v.default];return o?t.push(n.default,s.default):t.push(e.default,a.default),t.push(c.default),t}return et.default=m,et}var ht={},pt={},Ur;function Qn(){if(Ur)return pt;Ur=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=B(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,e._)`{format: ${a}}`},code(a,s){const{gen:c,data:l,$data:p,schema:d,schemaCode:f,it:v}=a,{opts:h,errSchemaPath:S,schemaEnv:x,self:w}=v;if(!h.validateFormats)return;p?N():T();function N(){const m=c.scopeValue("formats",{ref:w.formats,code:h.code.formats}),o=c.const("fDef",(0,e._)`${m}[${f}]`),t=c.let("fType"),i=c.let("format");c.if((0,e._)`typeof ${o} == "object" && !(${o} instanceof RegExp)`,()=>c.assign(t,(0,e._)`${o}.type || "string"`).assign(i,(0,e._)`${o}.validate`),()=>c.assign(t,(0,e._)`"string"`).assign(i,o)),a.fail$data((0,e.or)(b(),u()));function b(){return h.strictSchema===!1?e.nil:(0,e._)`${f} && !${i}`}function u(){const y=x.$async?(0,e._)`(${o}.async ? await ${i}(${l}) : ${i}(${l}))`:(0,e._)`${i}(${l})`,g=(0,e._)`(typeof ${i} == "function" ? ${y} : ${i}.test(${l}))`;return(0,e._)`${i} && ${i} !== true && ${t} === ${s} && !${g}`}}function T(){const m=w.formats[d];if(!m){b();return}if(m===!0)return;const[o,t,i]=u(m);o===s&&a.pass(y());function b(){if(h.strictSchema===!1){w.logger.warn(g());return}throw new Error(g());function g(){return`unknown format "${d}" ignored in schema at path "${S}"`}}function u(g){const I=g instanceof RegExp?(0,e.regexpCode)(g):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(d)}`:void 0,A=c.scopeValue("formats",{key:d,ref:g,code:I});return typeof g=="object"&&!(g instanceof RegExp)?[g.type||"string",g.validate,(0,e._)`${A}.validate`]:["string",g,A]}function y(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!x.$async)throw new Error("async format in sync schema");return(0,e._)`await ${i}(${l})`}return typeof t=="function"?(0,e._)`${i}(${l})`:(0,e._)`${i}.test(${l})`}}}};return pt.default=n,pt}var Gr;function Wn(){if(Gr)return ht;Gr=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=[Qn().default];return ht.default=e,ht}var Se={},Jr;function Yn(){return Jr||(Jr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.contentVocabulary=Se.metadataVocabulary=void 0,Se.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Se.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Se}var qr;function Hn(){if(qr)return Me;qr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=wn(),n=On(),a=Bn(),s=Wn(),c=Yn(),l=[e.default,n.default,(0,a.default)(),s.default,c.metadataVocabulary,c.contentVocabulary];return Me.default=l,Me}var yt={},xe={},Br;function Zn(){if(Br)return xe;Br=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.DiscrError=void 0;var e;return function(n){n.Tag="tag",n.Mapping="mapping"}(e||(xe.DiscrError=e={})),xe}var Qr;function Xn(){if(Qr)return yt;Qr=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=B(),n=Zn(),a=Pt(),s=ze(),c=Y(),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:p,tagName:d}})=>p===n.DiscrError.Tag?`tag "${d}" must be string`:`value of tag "${d}" must be in oneOf`,params:({params:{discrError:p,tag:d,tagName:f}})=>(0,e._)`{error: ${p}, tag: ${f}, tagValue: ${d}}`},code(p){const{gen:d,data:f,schema:v,parentSchema:h,it:S}=p,{oneOf:x}=h;if(!S.opts.discriminator)throw new Error("discriminator: requires discriminator option");const w=v.propertyName;if(typeof w!="string")throw new Error("discriminator: requires propertyName");if(v.mapping)throw new Error("discriminator: mapping is not supported");if(!x)throw new Error("discriminator: requires oneOf keyword");const N=d.let("valid",!1),T=d.const("tag",(0,e._)`${f}${(0,e.getProperty)(w)}`);d.if((0,e._)`typeof ${T} == "string"`,()=>m(),()=>p.error(!1,{discrError:n.DiscrError.Tag,tag:T,tagName:w})),p.ok(N);function m(){const i=t();d.if(!1);for(const b in i)d.elseIf((0,e._)`${T} === ${b}`),d.assign(N,o(i[b]));d.else(),p.error(!1,{discrError:n.DiscrError.Mapping,tag:T,tagName:w}),d.endIf()}function o(i){const b=d.name("valid"),u=p.subschema({keyword:"oneOf",schemaProp:i},b);return p.mergeEvaluated(u,e.Name),b}function t(){var i;const b={},u=g(h);let y=!0;for(let V=0;V<x.length;V++){let O=x[V];if(O!=null&&O.$ref&&!(0,c.schemaHasRulesButRef)(O,S.self.RULES)){const L=O.$ref;if(O=a.resolveRef.call(S.self,S.schemaEnv.root,S.baseId,L),O instanceof a.SchemaEnv&&(O=O.schema),O===void 0)throw new s.default(S.opts.uriResolver,S.baseId,L)}const F=(i=O?.properties)===null||i===void 0?void 0:i[w];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${w}"`);y=y&&(u||g(O)),I(F,V)}if(!y)throw new Error(`discriminator: "${w}" must be required`);return b;function g({required:V}){return Array.isArray(V)&&V.includes(w)}function I(V,O){if(V.const)A(V.const,O);else if(V.enum)for(const F of V.enum)A(F,O);else throw new Error(`discriminator: "properties/${w}" must have "const" or "enum"`)}function A(V,O){if(typeof V!="string"||V in b)throw new Error(`discriminator: "${w}" values must be unique strings`);b[V]=O}}}};return yt.default=l,yt}const ea="http://json-schema.org/draft-07/schema#",ta="http://json-schema.org/draft-07/schema#",ra="Core schema meta-schema",na={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},aa=["object","boolean"],sa={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},oa={$schema:ea,$id:ta,title:ra,definitions:na,type:aa,properties:sa,default:!0};var Wr;function Nt(){return Wr||(Wr=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=n.Ajv=void 0;const a=vn(),s=Hn(),c=Xn(),l=oa,p=["/properties"],d="http://json-schema.org/draft-07/schema";class f extends a.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(N=>this.addVocabulary(N)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const N=this.opts.$data?this.$dataMetaSchema(l,p):l;this.addMetaSchema(N,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}n.Ajv=f,e.exports=n=f,e.exports.Ajv=f,Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var v=Te();Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var h=B();Object.defineProperty(n,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var S=bt();Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return S.default}});var x=ze();Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:function(){return x.default}})}(wt,wt.exports)),wt.exports}var ia=Nt();const ca=_t(ia);var Et={exports:{}},Yr={},Hr;function da(){return Hr||(Hr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function n(O,F){return{validate:O,compare:F}}e.fullFormats={date:n(l,p),time:n(f(!0),v),"date-time":n(x(!0),w),"iso-time":n(f(),h),"iso-date-time":n(x(),N),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:o,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:V,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:i,int32:{type:"number",validate:y},int64:{type:"number",validate:g},float:{type:"number",validate:I},double:{type:"number",validate:I},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,p),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,w),"iso-time":n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"iso-date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,N),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function a(O){return O%4===0&&(O%100!==0||O%400===0)}const s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c=[0,31,28,31,30,31,30,31,31,30,31,30,31];function l(O){const F=s.exec(O);if(!F)return!1;const L=+F[1],G=+F[2],X=+F[3];return G>=1&&G<=12&&X>=1&&X<=(G===2&&a(L)?29:c[G])}function p(O,F){if(O&&F)return O>F?1:O<F?-1:0}const d=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function f(O){return function(F){const L=d.exec(F);if(!L)return!1;const G=+L[1],X=+L[2],ee=+L[3],ae=L[4],H=L[5]==="-"?-1:1,se=+(L[6]||0),D=+(L[7]||0);if(se>23||D>59||O&&!ae)return!1;if(G<=23&&X<=59&&ee<60)return!0;const k=X-D*H,j=G-se*H-(k<0?1:0);return(j===23||j===-1)&&(k===59||k===-1)&&ee<61}}function v(O,F){if(!(O&&F))return;const L=new Date("2020-01-01T"+O).valueOf(),G=new Date("2020-01-01T"+F).valueOf();if(L&&G)return L-G}function h(O,F){if(!(O&&F))return;const L=d.exec(O),G=d.exec(F);if(L&&G)return O=L[1]+L[2]+L[3],F=G[1]+G[2]+G[3],O>F?1:O<F?-1:0}const S=/t|\s/i;function x(O){const F=f(O);return function(L){const G=L.split(S);return G.length===2&&l(G[0])&&F(G[1])}}function w(O,F){if(!(O&&F))return;const L=new Date(O).valueOf(),G=new Date(F).valueOf();if(L&&G)return L-G}function N(O,F){if(!(O&&F))return;const[L,G]=O.split(S),[X,ee]=F.split(S),ae=p(L,X);if(ae!==void 0)return ae||v(G,ee)}const T=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function o(O){return T.test(O)&&m.test(O)}const t=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function i(O){return t.lastIndex=0,t.test(O)}const b=-2147483648,u=2**31-1;function y(O){return Number.isInteger(O)&&O<=u&&O>=b}function g(O){return Number.isInteger(O)}function I(){return!0}const A=/[^\\]\\Z/;function V(O){if(A.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}}(Yr)),Yr}var Zr={},Xr;function la(){return Xr||(Xr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const n=Nt(),a=B(),s=a.operators,c={formatMaximum:{okStr:"<=",ok:s.LTE,fail:s.GT},formatMinimum:{okStr:">=",ok:s.GTE,fail:s.LT},formatExclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},formatExclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},l={message:({keyword:d,schemaCode:f})=>(0,a.str)`should be ${c[d].okStr} ${f}`,params:({keyword:d,schemaCode:f})=>(0,a._)`{comparison: ${c[d].okStr}, limit: ${f}}`};e.formatLimitDefinition={keyword:Object.keys(c),type:"string",schemaType:"string",$data:!0,error:l,code(d){const{gen:f,data:v,schemaCode:h,keyword:S,it:x}=d,{opts:w,self:N}=x;if(!w.validateFormats)return;const T=new n.KeywordCxt(x,N.RULES.all.format.definition,"format");T.$data?m():o();function m(){const i=f.scopeValue("formats",{ref:N.formats,code:w.code.formats}),b=f.const("fmt",(0,a._)`${i}[${T.schemaCode}]`);d.fail$data((0,a.or)((0,a._)`typeof ${b} != "object"`,(0,a._)`${b} instanceof RegExp`,(0,a._)`typeof ${b}.compare != "function"`,t(b)))}function o(){const i=T.schema,b=N.formats[i];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${S}": format "${i}" does not define "compare" function`);const u=f.scopeValue("formats",{key:i,ref:b,code:w.code.formats?(0,a._)`${w.code.formats}${(0,a.getProperty)(i)}`:void 0});d.fail$data(t(u))}function t(i){return(0,a._)`${i}.compare(${v}, ${h}) ${c[S].fail} 0`}},dependencies:["format"]};const p=d=>(d.addKeyword(e.formatLimitDefinition),d);e.default=p}(Zr)),Zr}var en;function ua(){return en||(en=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0});const a=da(),s=la(),c=B(),l=new c.Name("fullFormats"),p=new c.Name("fastFormats"),d=(v,h={keywords:!0})=>{if(Array.isArray(h))return f(v,h,a.fullFormats,l),v;const[S,x]=h.mode==="fast"?[a.fastFormats,p]:[a.fullFormats,l],w=h.formats||a.formatNames;return f(v,w,S,x),h.keywords&&(0,s.default)(v),v};d.get=(v,h="full")=>{const S=(h==="fast"?a.fastFormats:a.fullFormats)[v];if(!S)throw new Error(`Unknown format "${v}"`);return S};function f(v,h,S,x){var w,N;(w=(N=v.opts.code).formats)!==null&&w!==void 0||(N.formats=(0,c._)`require("ajv-formats/dist/formats").${x}`);for(const T of h)v.addFormat(T,S[T])}e.exports=n=d,Object.defineProperty(n,"__esModule",{value:!0}),n.default=d}(Et,Et.exports)),Et.exports}var fa=ua();const ma=_t(fa);var kt={exports:{}},tn;function ha(){return tn||(tn=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0});const a=Nt(),s=B(),c=Ee(),l=Te(),p=ke(),d=pe(),f="errorMessage",v=new a.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},S=/\$\{[^}]+\}/,x=/\$\{([^}]+)\}/g,w=/^""\s*\+\s*|\s*\+\s*""$/g;function N(m){return{keyword:f,schemaType:["string","object"],post:!0,code(o){const{gen:t,data:i,schema:b,schemaValue:u,it:y}=o;if(y.createErrors===!1)return;const g=b,I=s.strConcat(d.default.instancePath,y.errorPath);t.if(a._`${d.default.errors} > 0`,()=>{if(typeof g=="object"){const[_,r]=V(g);r&&O(r),_&&F(_),L(A(g))}const j=typeof g=="string"?g:g._;j&&G(j),m.keepErrors||X()});function A({properties:j,items:_}){const r={};if(j){r.props={};for(const $ in j)r.props[$]=[]}if(_){r.items={};for(let $=0;$<_.length;$++)r.items[$]=[]}return r}function V(j){let _,r;for(const $ in j){if($==="properties"||$==="items")continue;const C=j[$];if(typeof C=="object"){_||(_={});const K=_[$]={};for(const z in C)K[z]=[]}else r||(r={}),r[$]=[]}return[_,r]}function O(j){const _=t.const("emErrors",a.stringify(j)),r=t.const("templates",se(j,b));t.forOf("err",d.default.vErrors,z=>t.if(ee(z,_),()=>t.code(a._`${_}[${z}.keyword].push(${z})`).assign(a._`${z}.${v}`,!0)));const{singleError:$}=m;if($){const z=t.let("message",a._`""`),U=t.let("paramsErrors",a._`[]`);C(q=>{t.if(z,()=>t.code(a._`${z} += ${typeof $=="string"?$:";"}`)),t.code(a._`${z} += ${K(q)}`),t.assign(U,a._`${U}.concat(${_}[${q}])`)}),p.reportError(o,{message:z,params:a._`{errors: ${U}}`})}else C(z=>p.reportError(o,{message:K(z),params:a._`{errors: ${_}[${z}]}`}));function C(z){t.forIn("key",_,U=>t.if(a._`${_}[${U}].length`,()=>z(U)))}function K(z){return a._`${z} in ${r} ? ${r}[${z}]() : ${u}[${z}]`}}function F(j){const _=t.const("emErrors",a.stringify(j)),r=[];for(const U in j)r.push([U,se(j[U],b[U])]);const $=t.const("templates",t.object(...r)),C=t.scopeValue("obj",{ref:h,code:a.stringify(h)}),K=t.let("emPropParams"),z=t.let("emParamsErrors");t.forOf("err",d.default.vErrors,U=>t.if(ee(U,_),()=>{t.assign(K,a._`${C}[${U}.keyword]`),t.assign(z,a._`${_}[${U}.keyword][${U}.params[${K}]]`),t.if(z,()=>t.code(a._`${z}.push(${U})`).assign(a._`${U}.${v}`,!0))})),t.forIn("key",_,U=>t.forIn("keyProp",a._`${_}[${U}]`,q=>{t.assign(z,a._`${_}[${U}][${q}]`),t.if(a._`${z}.length`,()=>{const P=t.const("tmpl",a._`${$}[${U}] && ${$}[${U}][${q}]`);p.reportError(o,{message:a._`${P} ? ${P}() : ${u}[${U}][${q}]`,params:a._`{errors: ${z}}`})})}))}function L(j){const{props:_,items:r}=j;if(!_&&!r)return;const $=a._`typeof ${i} == "object"`,C=a._`Array.isArray(${i})`,K=t.let("emErrors");let z,U;const q=t.let("templates");_&&r?(z=t.let("emChildKwd"),t.if($),t.if(C,()=>{P(r,b.items),t.assign(z,a.str`items`)},()=>{P(_,b.properties),t.assign(z,a.str`properties`)}),U=a._`[${z}]`):r?(t.if(C),P(r,b.items),U=a._`.items`):_&&(t.if(s.and($,s.not(C))),P(_,b.properties),U=a._`.properties`),t.forOf("err",d.default.vErrors,E=>ae(E,K,R=>t.code(a._`${K}[${R}].push(${E})`).assign(a._`${E}.${v}`,!0))),t.forIn("key",K,E=>t.if(a._`${K}[${E}].length`,()=>{p.reportError(o,{message:a._`${E} in ${q} ? ${q}[${E}]() : ${u}${U}[${E}]`,params:a._`{errors: ${K}[${E}]}`}),t.assign(a._`${d.default.vErrors}[${d.default.errors}-1].instancePath`,a._`${I} + "/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),t.endIf();function P(E,R){t.assign(K,a.stringify(E)),t.assign(q,se(E,R))}}function G(j){const _=t.const("emErrs",a._`[]`);t.forOf("err",d.default.vErrors,r=>t.if(H(r),()=>t.code(a._`${_}.push(${r})`).assign(a._`${r}.${v}`,!0))),t.if(a._`${_}.length`,()=>p.reportError(o,{message:D(j),params:a._`{errors: ${_}}`}))}function X(){const j=t.const("emErrs",a._`[]`);t.forOf("err",d.default.vErrors,_=>t.if(a._`!${_}.${v}`,()=>t.code(a._`${j}.push(${_})`))),t.assign(d.default.vErrors,j).assign(d.default.errors,a._`${j}.length`)}function ee(j,_){return s.and(a._`${j}.keyword !== ${f}`,a._`!${j}.${v}`,a._`${j}.instancePath === ${I}`,a._`${j}.keyword in ${_}`,a._`${j}.schemaPath.indexOf(${y.errSchemaPath}) === 0`,a._`/^\\/[^\\/]*$/.test(${j}.schemaPath.slice(${y.errSchemaPath.length}))`)}function ae(j,_,r){t.if(s.and(a._`${j}.keyword !== ${f}`,a._`!${j}.${v}`,a._`${j}.instancePath.indexOf(${I}) === 0`),()=>{const $=t.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:a._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),C=t.const("emMatches",a._`${$}.exec(${j}.instancePath.slice(${I}.length))`),K=t.const("emChild",a._`${C} && ${C}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);t.if(a._`${K} !== undefined && ${K} in ${_}`,()=>r(K))})}function H(j){return s.and(a._`${j}.keyword !== ${f}`,a._`!${j}.${v}`,s.or(a._`${j}.instancePath === ${I}`,s.and(a._`${j}.instancePath.indexOf(${I}) === 0`,a._`${j}.instancePath[${I}.length] === "/"`)),a._`${j}.schemaPath.indexOf(${y.errSchemaPath}) === 0`,a._`${j}.schemaPath[${y.errSchemaPath}.length] === "/"`)}function se(j,_){const r=[];for(const $ in j){const C=_[$];S.test(C)&&r.push([$,k(C)])}return t.object(...r)}function D(j){return S.test(j)?new c._Code(c.safeStringify(j).replace(x,(_,r)=>`" + JSON.stringify(${l.getData(r,y)}) + "`).replace(w,"")):a.stringify(j)}function k(j){return a._`function(){return ${D(j)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const T=(m,o={})=>{if(!m.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(m.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return m.addKeyword(N(o))};n.default=T,e.exports=T,e.exports.default=T}(kt,kt.exports)),kt.exports}var pa=ha();const ya=_t(pa);export{ca as A,ma as a,ya as b};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLmdrOUhRRUQ1LmpzIiwic291cmNlcyI6W10sInNvdXJjZXNDb250ZW50IjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiJ9
